(this["webpackJsonplegume-choice-client"]=this["webpackJsonplegume-choice-client"]||[]).push([[0],{48:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(38),i=n.n(s),r=(n(48),n(20)),o=n(7),l=n(13),u=n(14),d=n(16),j=n(15),h=(n(49),n(2)),m=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsx)("h1",{children:"Welcome to the Home component"})})}}]),n}(a.Component),b=n(41),O=n(19),f=(n(51),n(39)),p=n(40),x=[{title:"Home",path:"/",icon:Object(h.jsx)(O.a,{size:30}),cName:"sidebar-nav-link"},{title:"Admin",path:"/admin",icon:Object(h.jsx)(f.a,{size:30}),cName:"sidebar-nav-link"},{title:"Login",path:"/login",icon:Object(h.jsx)(p.a,{size:30}),cName:"sidebar-nav-link"}],g=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).toggleSidebar=function(){a.setState({open:!a.state.open})},a.state={open:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"container_row",children:[Object(h.jsx)("div",{className:"menu-button",children:Object(h.jsx)("a",{onClick:this.toggleSidebar,children:Object(h.jsx)(O.b,{size:50,color:"black"})})}),Object(h.jsxs)("div",{className:this.state.open?"sidebar-container active":"sidebar-container",children:[Object(h.jsxs)("div",{className:"sidebar-header-container",children:[Object(h.jsx)("h2",{children:"LegumeCHOICE"}),Object(h.jsx)("a",{onClick:this.toggleSidebar,children:Object(h.jsx)("div",{className:"close-menu-icon",children:Object(h.jsx)(b.a,{size:40,color:"white"})})})]},"sidebar-header "),Object(h.jsx)("div",{className:"link-container",children:Object(h.jsx)("ul",{children:x.map((function(t,n){return Object(h.jsx)(r.b,{className:t.cName,to:t.path,onClick:e.toggleSidebar,children:Object(h.jsx)("div",{className:"sidebar-list-item",children:Object(h.jsxs)("li",{className:"sidebar-list-item",children:[Object(h.jsx)("span",{className:"side-bar-link-icon",children:t.icon}),Object(h.jsx)("span",{className:"side-bar-link-text",children:t.title})]},n+"-list-item")})},n+"-link-item")}))})})]}),console.log(this.state.open)]})}}]),n}(c.a.Component),v=n(18),y=n.n(v),C=(n(75),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsx)("h1",{children:"Welcome to the Admin component"})})}}]),n}(a.Component)),N=n(21),k=n(27),w=n(43),U=n(17),L=n(82),S=n(83),A=(n(76),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).addUserlocal=function(e){e.preventDefault(),console.log("About to update state");var t=a.state.usersLocal,n=a.state.formEntry;""!==n.username?t.some((function(e){return e.username===n.username}))?alert("Username already exists"):t.some((function(e){return e.email===n.email}))?alert("email already registered"):a.setState({usersLocal:[].concat(Object(w.a)(t),[n]),formEntry:{username:"",email:""}}):alert("No username entered")},a.handleChange=function(e){e.preventDefault();var t=[e.target.name],n=e.target.value;a.setState((function(e){return{formEntry:Object(k.a)(Object(k.a)({},e.formEntry),{},Object(N.a)({},t,n))}}))},a.deleteUser=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.preventDefault();var n=a.state.usersLocal,c=n.filter((function(e){return e.email!==t.email||e.username!==t.username}));console.log(c),a.setState((function(e){return{usersLocal:c}}))},a.subsetArrays=function(e,t){return e.map((function(e){return e[t]}))},a.saveChanges=function(e){var t,n,c=a.state.usersLocal,s=a.state.usersOnline;t=c.filter((function(e){return!a.subsetArrays(s,"email").includes(e.email)&&!a.subsetArrays(s,"username").includes(e.username)})),n=s.filter((function(e){return!a.subsetArrays(c,"email").includes(e.email)&&!a.subsetArrays(c,"username").includes(e.username)})),console.log(n),t.length>0&&y()({method:"post",url:"https://l-gorman.com/api/users/insertmany/",data:{newUsers:t},headers:{accept:"application/json","Access-Control-Allow-Origin":"*"}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),n.length>0&&y()({method:"post",url:"https://l-gorman.com/api/users/deletemany/",data:{deleteUsers:n},headers:{accept:"application/json","Access-Control-Allow-Origin":"*"}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),a.setState((function(){return{usersOnline:c}}))},console.log("Constructor"),a.state={usersLocal:[],usersOnline:[],formEntry:{username:"",email:""}},a.handleChange=a.handleChange.bind(Object(U.a)(a)),a.addUserlocal=a.addUserlocal.bind(Object(U.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;y()({method:"get",url:"https://l-gorman.com/api/users",headers:{accept:"application/json"}}).then((function(t){e.setState({usersLocal:t.data,usersOnline:t.data})})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function(){console.log(this.state)}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Welcome to the login component"}),Object(h.jsxs)("div",{className:"form-container",children:[Object(h.jsx)("h2",{children:"New Users"}),Object(h.jsxs)(L.a,{onSubmit:this.addUserlocal,children:[Object(h.jsxs)(L.a.Group,{controlId:"basicusername",children:[Object(h.jsx)(L.a.Label,{children:"Username"}),Object(h.jsx)(L.a.Control,{name:"username",type:"text",onChange:this.handleChange})]}),Object(h.jsxs)(L.a.Group,{controlId:"basicemail",children:[Object(h.jsx)(L.a.Label,{children:"Email"}),Object(h.jsx)(L.a.Control,{name:"email",type:"email",onChange:this.handleChange})]}),Object(h.jsx)(S.a,{className:"delete-button",variant:"primary",type:"submit",children:"Add User"})]})]}),Object(h.jsxs)("div",{className:"form-container",children:[Object(h.jsx)("h2",{children:"Users"}),this.state.usersLocal.map((function(t,n){return Object(h.jsxs)("div",{className:"user-container",children:[n+1,". ",t.username," (",t.email,")",Object(h.jsx)("div",{className:"deleteButton",children:Object(h.jsx)(S.a,{onClick:function(n){return e.deleteUser(n,{id:t._id,username:t.username,email:t.email})},children:"Delete User"})})]},"user "+t.email+" "+t.username)})),Object(h.jsx)("div",{className:"user-container",children:Object(h.jsx)(S.a,{onClick:this.saveChanges,className:"deleteButton",children:"Submit"})})]})]})}}]),n}(a.Component));n(78),n(79);var E=function(){return Object(h.jsx)(r.a,{basename:"legume-choice-client",children:Object(h.jsxs)("div",{className:"full-height row-containers",children:[Object(h.jsx)(g,{}),Object(h.jsx)("div",{className:"outer-page-container",children:Object(h.jsx)("div",{className:"inner-page-container",children:Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.a,{exact:!0,from:"/",to:"/home"}),Object(h.jsx)(o.b,{exact:!0,path:"/home",children:Object(h.jsx)(m,{})}),Object(h.jsx)(o.b,{exact:!0,path:"/admin",children:Object(h.jsx)(C,{})}),Object(h.jsx)(o.b,{exact:!0,path:"/login",children:Object(h.jsx)(A,{})})]})})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,84)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(E,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),D()}},[[80,1,2]]]);
//# sourceMappingURL=main.32baeb49.chunk.js.map