(this["webpackJsonplegume-choice-client"]=this["webpackJsonplegume-choice-client"]||[]).push([[0],{118:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},258:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},264:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){},270:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){},360:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(43),c=a.n(o),i=(a(161),a(13)),l=a(14),s=a(16),u=a(15),m=a(67),d=a(19),j=a(65),b=a(66),h=a(45),f=(a(162),a(151)),p=a(92),x=(a(163),a(41)),g=a.n(x),O=a(144),v=a.n(O),y=a.p+"static/media/home-component-markdown.173c5c14.md",S=a(95),F=a(1),k=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={file:y,markdown:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get(this.state.file).then((function(t){e.setState({markdown:t.data})}))}},{key:"render",value:function(){return Object(F.jsxs)("div",{className:"markdown-container",children:[Object(F.jsx)(v.a,{children:this.state.markdown}),Object(F.jsx)("a",{type:"button",href:"legume_CHOICE_guide.pdf",download:"legume_CHOICE_guide.pdf",children:Object(F.jsx)(S.a,{children:"Download Guide"})})]})}}]),a}(n.Component),w=a(23),C=a(4),L=a(68),P=a(17),D=a(39),N=(a(258),n.Component,Object(n.createContext)()),T=a(3),E=a.n(T),I=(a(261),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){n.setState(Object(w.a)({},t.variable,e.target.value))},n.authenticateUser=function(e){e.preventDefault(),n.setState({authenticated:!0})},n.state={username:"",password:"",authenticated:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(void 0===this.context.currentProject&&(this.context.currentProject={}),void 0!==this.context.currentProject.user){var e=E.a.cloneDeep(this.context.currentProject.user);this.setState(e)}if(void 0===this.context.currentProject.user){var t=E.a.cloneDeep(this.state);this.context.currentProject.user=t}}},{key:"componentDidUpdate",value:function(){var e=E.a.cloneDeep(this.state);this.context.currentProject.user=e}},{key:"render",value:function(){var e=this;return Object(F.jsxs)("div",{className:"form-container",children:[Object(F.jsx)("h1",{children:"Login"}),Object(F.jsxs)(D.a,{children:[Object(F.jsx)(D.a.Label,{children:"Username"}),Object(F.jsx)(D.a.Control,{type:"text",value:this.state.username,onChange:function(t){return e.handleChange(t,{variable:"username"})}}),Object(F.jsx)(D.a.Label,{children:"Password"}),Object(F.jsx)(D.a.Control,{type:"password",value:this.state.password,onChange:function(t){return e.handleChange(t,{variable:"password"})}}),Object(F.jsx)(S.a,{className:"submitButton",type:"submit",onClick:this.authenticateUser,children:"Authenticate"})]})]})}}]),a}(r.a.Component));I.contextType=N;a(60);var A=a(33),M=a(25),H=a(369),R=[{name:"Food",label:"food"},{name:"Feed",label:"feed"},{name:"Income",label:"income"},{name:"Erosion Control",label:"erosion-control"},{name:"Fuel",label:"fuel"},{name:"Soil Fertility",label:"soil-fertility"}],G=[{name:"Low",label:"low"},{name:"Medium",label:"med"},{name:"High",label:"high"}],B=[{name:"Farmer",label:"farmer"},{name:"Expert",label:"expert"}],V=[{name:"Land",label:"land"},{name:"Labour",label:"labour"},{name:"Seed",label:"seed"},{name:"Inputs and services",label:"inp-serv"},{name:"Knowledge and skills",label:"knowl-skill"},{name:"Water",label:"water"},{name:"Markets",label:"markets"}],U=[{name:"Rainfall (mm/year)",label:"rainfall",minValue:280,maxValue:4290,value:2285,validity:"Valid"},{name:"Temperature (mean \xb0C/month)",label:"temp",minValue:0,maxValue:45,value:22.5,validity:"Valid"},{name:"Altitude (average masl)",label:"alt",minValue:0,maxValue:3800,value:1900,validity:"Valid"},{name:"Soil pH (average)",label:"soilpH",minValue:4,maxValue:9,value:6.5,validity:"Valid"}],W={biofilters:E.a.cloneDeep(U)},K=(a(262),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).tableHeader=function(){return Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Biofilters"}),Object(F.jsx)("th",{children:"Site Values"}),Object(F.jsx)("th",{children:"Validity"})]})})},n.renderDefaultValue=function(e){return e.value},n.tableBody=function(){return Object(F.jsx)("tbody",{children:n.state.biofilters.map((function(e,t){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:e.name}),Object(F.jsx)("td",{children:Object(F.jsx)(M.a,{type:"number",value:n.renderDefaultValue({value:e.value}),onChange:function(t){n.handleChange(t,{biofilter:e})}})}),Object(F.jsx)("td",{children:e.validity})]},"agro-eco-table"+e.label)}))})},n.handleChange=function(e,t){var a=E.a.cloneDeep(n.state.biofilters),r="Valid";a.forEach((function(n,o){n.label===t.biofilter.label&&(e.target.value<n.minValue&&(r="Too low"),e.target.value>n.maxValue&&(r="Too high"),a[o].value=parseFloat(e.target.value),a[o].validity=r)})),n.setState({biofilters:a})},n.state=E.a.cloneDeep(W),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(void 0!==this.context.currentProject.agroEcoData){var e=E.a.cloneDeep(this.context.currentProject.agroEcoData);this.setState(e)}else{var t=E.a.cloneDeep(this.state);this.context.currentProject.agroEcoData=t}}},{key:"componentDidUpdate",value:function(){var e=E.a.cloneDeep(this.state);this.context.currentProject.agroEcoData=e,console.log(this.context.currentProject.agroEcoData)}},{key:"render",value:function(){return Object(F.jsxs)("div",{className:"table-container",children:[Object(F.jsx)("div",{className:"card-container",children:Object(F.jsxs)(H.a,{children:[Object(F.jsx)(H.a.Header,{className:"bg-dark text-white",children:Object(F.jsx)("h2",{children:"Agroecological Filter"})}),Object(F.jsx)(H.a.Body,{children:Object(F.jsx)(H.a.Text,{children:"Using your own knowledge of the field site fill the green cells with representative data. These data are used to assess agro-ecological suitability of the field site for different legume options in the Legume Option Scores sheet."})})]})}),Object(F.jsx)("div",{children:Object(F.jsx)(D.a,{children:Object(F.jsxs)(A.a,{striped:!0,bordered:!0,hover:!0,children:[this.tableHeader(),this.tableBody()]})})})]})}}]),a}(r.a.Component));K.contextType=N;for(var z=K,_={attributes:V,participants:B,typologies:G,scores:[]},J=0;J<V.length;J++){_.scores.push({scoreType:"average",attribute:V[J],score:0});for(var q=0;q<B.length;q++)for(var Z=0;Z<G.length;Z++)_.scores.push({scoreType:"individual",attribute:V[J],participant:B[q],typology:G[Z],score:0})}var Y=a(147),Q=a.n(Y),X=(a(263),a(264),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).renderRadarChart=function(){var e={},t={};n.state.scores.forEach((function(a){"average"===a.scoreType&&(e[a.attribute.label]=a.score/4,t[a.attribute.label]=a.attribute.name)}));var a=[{data:e,meta:{class:"radar-style",color:"green"}}],r={size:200,axes:!0,scales:4,captions:!0,captionMargin:10,dots:!0,zoomDistance:1.2,setViewBox:function(e){return"-".concat(e.captionMargin," 0 ").concat(e.size+2*e.captionMargin," ").concat(e.size)},smoothing:function(e){for(var t="M"+e[0][0].toFixed(4)+","+e[0][1].toFixed(4),a=1;a<e.length;a++)t+="L"+e[a][0].toFixed(4)+","+e[a][1].toFixed(4);return t+"z"},axisProps:function(){return{className:"axis"}},scaleProps:function(){return{className:"scale",fill:"none"}},shapeProps:function(){return{className:"shape"}},captionProps:function(){return{className:"caption",textAnchor:"middle",fontSize:10,fontFamily:"sans-serif"}},dotProps:function(){return{className:"dot",mouseEnter:function(e){console.log(e)},mouseLeave:function(e){console.log(e)}}}};return Object(F.jsx)("div",{className:"radar-container",children:Object(F.jsx)(Q.a,{captions:t,data:a,size:450,options:r})})},n.handleChange=function(e,t){t.score=parseInt(e.target.value);var a=n.state.scores;console.log(t),a.forEach((function(e,n){console.log(e),"individual"==e.scoreType&&e.participant.label==t.participant.label&&e.attribute.label==t.attribute.label&&e.typology.label==t.typology.label&&(a[n].score=parseInt(t.score))})),n.setState({scores:a},(function(){return n.averageAttributes()}))},n.averageAttributes=function(){var e=E.a.cloneDeep(n.state.scores);n.state.attributes.forEach((function(t){var a=0,r=0;e.forEach((function(e){"individual"===e.scoreType&&e.attribute.label===t.label&&(a+=e.score,console.log("total: "+a),r+=1,console.log("number of scores: "+r))}));var o=a/r;e.forEach((function(a,n){"average"===a.scoreType&&a.attribute.label===t.label&&(console.log(o),e[n].score=o)})),n.setState({scores:e})})),n.setState({scores:e})},n.averageAttribute=function(e,t){var a=0,n=0;return e.forEach((function(r,o){r.attribute.label===t.label&&"individual"===r.scoreType&&(a+=e[o].score,n+=1)})),a/n},n.renderRowAverage=function(e){return n.state.scores.map((function(t){if("average"==t.scoreType&&t.attribute.label==e.attribute.label)return Object(F.jsx)("td",{children:t.score.toFixed(2)})}))},n.renderDefaultValue=function(e){var t="";return n.state.scores.forEach((function(a){"individual"===a.scoreType&&a.attribute.label===e.attribute.label&&a.participant.label===e.participant.label&&a.typology.label===e.typology.label&&(t=a.score)})),t},n.contextRow=function(e){var t=e.attribute;return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:t.name}),n.state.typologies.map((function(e){return n.state.participants.map((function(a){return Object(F.jsx)("td",{children:Object(F.jsx)(M.a,{as:"select",value:n.renderDefaultValue({typology:e,participant:a,attribute:t}),onChange:function(r){return n.handleChange(r,{typology:e,participant:a,attribute:t})},children:[0,1,2,3,4].map((function(n){return Object(F.jsx)("option",{children:n},"form-option-"+e.name+"-"+a.name+"-"+t.name+"-"+n)}))},"form-control-"+e.name+"-"+a.name+"-"+t.name)},"table-entry-"+e.name+"-"+a.name+"-"+t.name)}))})),n.renderRowAverage({attribute:t})]})},n.allRows=function(){return null!==n.state?n.state.attributes.map((function(e){return n.contextRow({attribute:e,key:"context-row-"+e.name})})):Object(F.jsx)("h1",{children:"Null State"})},n.tableHeader=function(){return null!==n.state?Object(F.jsxs)("thead",{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{rowSpan:"2"}),n.state.typologies.map((function(e){return Object(F.jsxs)("th",{colSpan:"2",children:["Typology - ",e.name]},"typology-header"+e.name)})),Object(F.jsx)("th",{rowSpan:"2",children:"Mean Score (0-4)"},"average-header")]}),Object(F.jsx)("tr",{children:n.state.typologies.map((function(e){return n.state.participants.map((function(e){return Object(F.jsx)("th",{children:e.name},"participant-header"+e.name)}))}))},"participant-header-row")]}):Object(F.jsx)("h1",{children:"Null State"})},n.state=E.a.cloneDeep(_),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(void 0===this.context.currentProject&&(this.context.currentProject={}),void 0!==this.context.currentProject.contextScores){var e=E.a.cloneDeep(this.context.currentProject.contextScores);this.setState(e)}if(void 0===this.context.currentProject.contextScores){var t=E.a.cloneDeep(this.state);this.context.currentProject.contextScores=t}}},{key:"componentDidUpdate",value:function(){var e=E.a.cloneDeep(this.state);this.context.currentProject.contextScores=e}},{key:"render",value:function(){return Object(F.jsxs)("div",{className:"radar-container",children:[Object(F.jsx)("div",{className:"card-container",children:Object(F.jsxs)(H.a,{children:[Object(F.jsx)(H.a.Header,{className:"bg-dark text-white",children:Object(F.jsx)("h2",{children:"Context Assessment"})}),Object(F.jsx)(H.a.Body,{children:Object(F.jsx)(H.a.Text,{children:"The purpose of the exercise is to come up with a series of scores from zero to four that indicate the strength of a series of generic constraints to legume production. The exercise is carried out with a group \u2013 the questions are asked and on the basis of the responses, the group is asked to come up with a score for each constraint. The facilitator also assigns a score based on his assessment. This exercise is conducted separately with the 3 typology groups and the average for each attribute is the rounded average of all 6 scores (3 typologies x 2 score types per attribute)"})})]})}),Object(F.jsx)("div",{className:"context-table",children:Object(F.jsx)(D.a,{children:Object(F.jsxs)(A.a,{striped:!0,bordered:!0,hover:!0,children:[this.tableHeader(),Object(F.jsx)("tbody",{children:this.allRows()})]})})}),this.renderRadarChart()]})}}]),a}(r.a.Component));X.contextType=N;var $=X,ee=(a(265),JSON.parse(JSON.stringify(R)));ee.forEach((function(e,t){[0,1].includes(t)&&(e.score=4),[2,3,4,5].includes(t)&&(e.score=3)}));var te={farmerAttributes:[{name:"Number",label:"number"},{name:"Name",label:"name"},{name:"Gender",label:"gender"},{name:"Typology",label:"typology"},{name:"Matrix Selections",label:"selections"},{name:"Total",label:"total"}],farmers:[],legumeFunctions:R,blankFarmer:{number:0,name:"Jane Bloggs",gender:"Female",typology:"Medium",selections:ee,total:0},typology:G,gender:[{name:"Male",label:"male"},{name:"Female",label:"female"}],summary:{scoreTypes:[],scoresIndividual:[]}};R.forEach((function(e){te.summary.scoresIndividual.push({legumeFunction:e,scores:[{name:"Total",label:"total",score:0},{name:"Score (0-5)",label:"score",score:0},{name:"Average Rank",label:"rank",score:0}]})})),R.forEach((function(e,t){te.gender.map((function(e){te.summary.scoresIndividual[t].scores.push({name:e.name+" (0-5)",label:e.label,type:"gender",score:0})})),te.typology.map((function(e){te.summary.scoresIndividual[t].scores.push({name:e.name+" (0-5)",label:e.name,type:"typology",score:0})}))})),te.summary.scoreTypes=te.summary.scoresIndividual[0].scores;var ae=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).addFarmer=function(){var e=E.a.cloneDeep(n.state.farmers),t=e.length+1,a=E.a.cloneDeep(n.state.blankFarmer);a.number=t,e.push(a),n.setState({farmers:e,tempFarmers:e},(function(){n.updateTotal()}))},n.farmEntryFields=function(e){return"selections"===e.attribute.label?n.scoringInput(e):"name"===e.attribute.label?n.farmerNameInput(e):n.farmerDetailsSelectInput(e)},n.farmerNameInput=function(e){return Object(F.jsx)("td",{children:Object(F.jsx)(M.a,{value:e.farmer.name,type:"text",onChange:function(t){return n.updateFarmerName(t,e)}})})},n.scoringInput=function(e){return Object(F.jsx)("td",{children:Object(F.jsx)(M.a,{value:e.legumeFunctions.score,type:"number",onChange:function(t){return n.updateFarmerScore(t,e)}})})},n.farmerDetailsSelectInput=function(e){return Object(F.jsx)("td",{children:Object(F.jsx)(M.a,{as:"select",defaultValue:e.farmer[e.attribute.label],onChange:function(t){return n.updateFarmerDetailesSelect(t,e)},children:n.state[e.attribute.label].map((function(t){return Object(F.jsx)("option",{children:t.name},"form-option-"+e.attribute.label+"-"+e.farmer.number+"-"+t.label)}))})})},n.updateFarmerScore=function(e,t){var a=E.a.cloneDeep(n.state.farmers),r="";a.forEach((function(e,a){e.number===t.farmer.number&&(r=a)}));var o=n.state.legumeFunctions,c="";o.forEach((function(e,a){e.label===t.legumeFunctions.label&&(c=a)}));var i=Object(C.a)({},a[r].selections[c]);i.score=parseInt(e.target.value),a[r].selections[c]=i,n.setState({tempFarmers:a},(function(){n.updateTotal()}))},n.updateTotal=function(){var e=E.a.cloneDeep(n.state.tempFarmers);e.map((function(e){e.total=0,e.selections.map((function(t){e.total+=t.score}))})),n.setState({tempFarmers:e},(function(){n.updateFarmerSummary()}))},n.updateFarmerName=function(e,t){var a=Object(L.a)(n.state.farmers);a.forEach((function(n,r){n.number===t.farmer.number&&(a[r].name=e.target.value)})),n.setState({farmers:a})},n.updateFarmerDetailesSelect=function(e,t){var a=E.a.cloneDeep(n.state.farmers);a.forEach((function(n,r){n.number===t.farmer.number&&(a[r][t.attribute.label]=e.target.value)})),n.setState({tempFarmers:a},(function(){n.updateFarmerSummary()}))},n.tableHeader=function(){return null!==n.state?Object(F.jsxs)("thead",{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{rowSpan:"2",children:"Farmer Number"}),Object(F.jsx)("th",{rowSpan:"2",children:"Farmer Name"}),Object(F.jsx)("th",{rowSpan:"2",children:"Gender"}),Object(F.jsx)("th",{rowSpan:"2",children:"Typology"}),Object(F.jsx)("th",{rowSpan:"1",colSpan:"6",children:"Functions"}),Object(F.jsx)("th",{rowSpan:"2",children:"Total"}),Object(F.jsx)("th",{rowSpan:"2",children:"Delete Farmer"})]}),Object(F.jsx)("tr",{children:n.state.legumeFunctions.map((function(e){return Object(F.jsx)("th",{children:e.name},"participatory-matrix-head-"+e.label)}))})]}):Object(F.jsx)("h1",{children:"Null State"})},n.tableRows=function(){return null!==n.state?n.state.farmers.map((function(e){return Object(F.jsxs)("tr",{children:[n.state.farmerAttributes.map((function(t){return"selections"===t.label?e.selections.map((function(a){return n.farmEntryFields(Object(w.a)({key:"participatory-matrix-body-"+e.number+a.label,attribute:t,farmer:e,legumeFunctions:a},"farmer",e))})):"number"===t.label?Object(F.jsx)("td",{children:e.number},"select-input"+e.number+"-"+t.label):"total"===t.label?Object(F.jsx)("td",{children:e.total},"select-input"+e.number+"-"+t.label):n.farmEntryFields({key:"farmEntry-field-"+t.label+"-"+e.number,attribute:t,farmer:e})})),Object(F.jsx)("td",{children:Object(F.jsx)(S.a,{onClick:function(t){n.deleteFarmer(t,{farmerNumber:e.number})},children:"Delete"})},"delete-farmer"+e.number)]},"participatory-matrix-body-"+e.number)})):Object(F.jsx)("h1",{children:"Null State"})},n.deleteFarmer=function(e,t){console.log(t),console.log(n.state);var a=E.a.cloneDeep(n.state.farmers);a.forEach((function(e,n){e.number===t.farmerNumber&&a.splice(n,1)})),a.forEach((function(e,t){e.number=t+1})),n.setState({farmers:a})},n.calculateAttributeRank=function(){var e=E.a.cloneDeep(n.state.summary.scoresIndividual);e.forEach((function(e){e.scores[2].score=1})),e.forEach((function(t){e.forEach((function(e){t.scores[1].score>e.scores[1].score&&(t.scores[2].score=t.scores[2].score),t.scores[1].score<e.scores[1].score&&(t.scores[2].score+=1)}))}));for(var t=n.state.legumeFunctions.length,a=[],r=0;r<t;r++)a[r]={number:r+1,occurences:0,conversion:r+1};e.forEach((function(e){a.forEach((function(t){e.scores[2].score==t.number&&(t.occurences+=1,t.conversion=(t.occurences+2*t.number-1)/2)}))})),e.forEach((function(e){a.forEach((function(t){e.scores[2].score==t.number&&(e.scores[2].score=t.conversion)}))})),n.setState((function(t){return Object(C.a)(Object(C.a)({},t),{},{summary:Object(C.a)(Object(C.a)({},t.summary),{},{scoresIndividual:e})})}))},n.updateTypologyScore=function(){var e=E.a.cloneDeep(n.state.summary.scoresIndividual);e.map((function(e){e.scores.map((function(t){"typology"===t.type&&(t.score=n.mapThroughFarmers({variable:"typology",typology:t.label,selection:e.legumeFunction})),"gender"===t.type&&(t.score=n.mapThroughFarmers({variable:"gender",gender:t.label,selection:e.legumeFunction}))}))})),n.setState((function(t){return Object(C.a)(Object(C.a)({},t),{},{summary:Object(C.a)(Object(C.a)({},t.summary),{},{scoresIndividual:e})})}),(function(){n.calculateAttributeRank()}))},n.updateFarmerSummary=function(){var e=E.a.cloneDeep(n.state.summary.scoresIndividual),t=E.a.cloneDeep(n.state.tempFarmers);console.log(n.state);var a=!1;e.forEach((function(n,r){e[r].scores[0].score=0;var o=E.a.cloneDeep(e[r].scores[0].score);t.forEach((function(c){c.selections.forEach((function(i,l){i.label==n.legumeFunction.label&&(o+=i.score/t.length,(c.total>20||i.score<0)&&(a=!0),e[r].scores[0].score=parseFloat(parseFloat(o).toFixed(2)),e[r].scores[1].score=parseFloat(parseFloat(5*o/20).toFixed(2)))}))}))})),0==a&&n.setState((function(a){return{tempFarmers:[],farmers:t,summary:Object(C.a)(Object(C.a)({},a.summary),{},{scoresIndividual:e})}}),(function(){n.updateTypologyScore()}))},n.resultsTable=function(){return Object(F.jsxs)(A.a,{striped:!0,bordered:!0,hover:!0,children:[Object(F.jsxs)("thead",{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{rowSpan:"2",children:"Summary Type"}),Object(F.jsx)("th",{rowSpan:"1",colSpan:n.state.legumeFunctions.length,children:"Function"})]}),Object(F.jsx)("tr",{children:n.state.legumeFunctions.map((function(e){return Object(F.jsx)("th",{children:e.name},"participatory-matrix-head-"+e.label)}))})]}),Object(F.jsx)("tbody",{children:n.state.summary.scoreTypes.map((function(e,t){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:e.name}),n.state.summary.scoresIndividual.map((function(e){return Object(F.jsx)("td",{children:e.scores[t].score})}))]})}))})]})},n.state=E.a.cloneDeep(te),n.addFarmer=n.addFarmer.bind(Object(P.a)(n)),n.farmEntryFields=n.farmEntryFields.bind(Object(P.a)(n)),n.farmerNameInput=n.farmerNameInput.bind(Object(P.a)(n)),n.scoringInput=n.scoringInput.bind(Object(P.a)(n)),n.farmerDetailsSelectInput=n.farmerDetailsSelectInput.bind(Object(P.a)(n)),n.updateFarmerScore=n.updateFarmerScore.bind(Object(P.a)(n)),n.updateTotal=n.updateTotal.bind(Object(P.a)(n)),n.updateFarmerName=n.updateFarmerName.bind(Object(P.a)(n)),n.updateFarmerDetailesSelect=n.updateFarmerDetailesSelect.bind(Object(P.a)(n)),n.tableHeader=n.tableHeader.bind(Object(P.a)(n)),n.tableRows=n.tableRows.bind(Object(P.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(void 0!==this.context.currentProject.participatoryMatrixScores){var e=this.context.currentProject.participatoryMatrixScores;this.setState(e)}else{var t=this.state;this.context.currentProject.participatoryMatrixScores=t,this.addFarmer()}}},{key:"componentDidUpdate",value:function(){var e=this.state;this.context.currentProject.participatoryMatrixScores=e}},{key:"mapThroughFarmers",value:function(e){var t=E.a.cloneDeep(this.state.farmers),a=0,n=0;return t.map((function(t,r){t.selections.map((function(r,o){"typology"===e.variable&&e.typology.toLowerCase()===t.typology.toLowerCase()&&e.selection.label===r.label&&(n+=1,a+=parseFloat(5*r.score/20)),"gender"===e.variable&&e.gender.toLowerCase()===t.gender.toLowerCase()&&e.selection.label===r.label&&(n+=1,a+=parseFloat(5*r.score/20))}))})),n>0?parseFloat(a/n).toFixed(2):parseFloat(a).toFixed(2)}},{key:"render",value:function(){return Object(F.jsxs)("div",{className:"card-container",children:[Object(F.jsx)("div",{className:"card-container",children:Object(F.jsxs)(H.a,{children:[Object(F.jsx)(H.a.Header,{className:"bg-dark text-white",children:Object(F.jsx)("h2",{children:"Participatory Matrix Scoring"})}),Object(F.jsx)(H.a.Body,{children:Object(F.jsx)(H.a.Text,{children:"Purpose of the exercise is to assess what individual farmers of different gender and typology would look for in any new intervention involving legumes. This is a separate approach to establishing/validating community aspirations on legume functions. This helps to triangulate the results of the previous exercise. Farmers are given 20 beans/seeds and asked to allocate them according to the importance of the various functions for their future aspirations. The data from this exercise produces an overall community score for each legume function but also allows variation according to type and gender to be assessed."})})]})}),Object(F.jsxs)(D.a,{children:[Object(F.jsxs)(A.a,{striped:!0,bordered:!0,hover:!0,children:[this.tableHeader(),Object(F.jsx)("tbody",{children:this.tableRows()})]}),Object(F.jsx)(S.a,{style:{"margin-bottom":"2em"},className:"float-right",onClick:this.addFarmer,children:"Add Farmer"})]}),this.resultsTable()]})}}]),a}(r.a.Component);ae.contextType=N;for(var ne=ae,re={legumeFunctions:R,male:{pairwiseSelection:[],totals:[]},female:{pairwiseSelection:[],totals:[]},averages:[]},oe=[],ce=0;ce<re.legumeFunctions.length;ce++){var ie=re.legumeFunctions[ce];re.male.totals.push({attribute:ie,value:0}),re.female.totals.push({attribute:ie,value:0}),re.averages.push({attribute:ie,value:0});for(var le=0;le<re.legumeFunctions.length;le++){var se=re.legumeFunctions[le];if(ie!==se){var ue=[ie.label,se.label];ue.sort();var me=ue.join("_");oe.includes(me)||(re.male.pairwiseSelection.push({funct1:ie,funct2:se,identifier:me,value:ie}),re.female.pairwiseSelection.push({funct1:ie,funct2:se,identifier:me,value:ie}),oe.push(me))}}}var de=re,je=(a(266),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).updateSelections=function(e,t){if(""!=e.target.value){var a="";e.target.value===t.funct1.name&&(a=t.funct1),e.target.value===t.funct2.name&&(a=t.funct2);var r=E.a.cloneDeep(n.state[t.gender].pairwiseSelection);r.forEach((function(e,n){e.funct1.label===t.funct1.label&&e.funct2.label===t.funct2.label&&(r[n].value=a,console.log(r))}));var o=t.gender;n.setState((function(e){return Object(w.a)({},o,Object(C.a)(Object(C.a)({},e[o]),{},{pairwiseSelection:r}))}),(function(){n.upDateTotalScore(o)}))}else alert("Must not select empty value")},n.upDateTotalScore=function(e){var t=E.a.cloneDeep(n.state[e].totals);t.forEach((function(a,r){t[r].value=0,n.state[e].pairwiseSelection.forEach((function(e){e.value.label===a.attribute.label&&t[r].value++}))})),n.setState((function(a){return Object(w.a)({},e,Object(C.a)(Object(C.a)({},a[e]),{},{totals:t}))}),(function(){n.updateAverage()}))},n.updateAverage=function(){var e=E.a.cloneDeep(n.state.male.totals),t=E.a.cloneDeep(n.state.female.totals),a=E.a.cloneDeep(n.state.averages);a.map((function(r,o){var c=(e[o].value+t[o].value)/2;a[o].value=c,n.setState({averages:a})}))},n.pairWiseTable=function(e){e.gender;return Object(F.jsxs)(A.a,{striped:!0,bordered:!0,hover:!0,children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Pair"}),Object(F.jsx)("th",{children:"Selection Female"}),Object(F.jsx)("th",{children:"Selection Male"})]})}),Object(F.jsx)("tbody",{children:n.state[e.gender].pairwiseSelection.map((function(e,t){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:e.funct1.name+" vs "+e.funct2.name},"pairwise-ranking-table-item-name"+e.funct1.name+"-"+e.funct2.name),Object(F.jsx)("td",{children:Object(F.jsxs)(M.a,{value:n.state.female.pairwiseSelection[t].value.name,as:"select",onChange:function(t){return n.updateSelections(t,{funct1:e.funct1,funct2:e.funct2,gender:"female"})},children:[Object(F.jsx)("option",{children:e.funct1.name}),Object(F.jsx)("option",{children:e.funct2.name})]},"pairwise-ranking-table-form"+e.funct1.name+"-"+e.funct2.name+"-female")},"pairwise-ranking-table-item-form"+e.funct1.name+"-"+e.funct2.name+"-female"),Object(F.jsx)("td",{children:Object(F.jsxs)(M.a,{as:"select",value:n.state.male.pairwiseSelection[t].value.name,onChange:function(t){return n.updateSelections(t,{funct1:e.funct1,funct2:e.funct2,gender:"male"})},children:[Object(F.jsx)("option",{children:e.funct1.name}),Object(F.jsx)("option",{children:e.funct2.name})]},"pairwise-ranking-table-form"+e.funct1.name+"-"+e.funct2.name+"-male")},"pairwise-ranking-table-item-form"+e.funct1.name+"-"+e.funct2.name+"-male")]},"pairwise-ranking-table-row"+e.funct1.name+e.funct2.name)}))})]})},n.pairWiseResultsTable=function(e){return Object(F.jsxs)(A.a,{striped:!0,bordered:!0,hover:!0,className:"table-style",children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Attribute"}),Object(F.jsx)("th",{children:"Count Female"}),Object(F.jsx)("th",{children:"Count Male"}),Object(F.jsx)("th",{children:"Average Count"})]})}),Object(F.jsx)("tbody",{children:n.state.legumeFunctions.map((function(e,t){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:e.name},"pairwise-results-table-row-item-"+e.name),Object(F.jsx)("td",{children:n.state.female.totals[t].value},"pairwise-results-table-row-item-female-"+e.name),Object(F.jsx)("td",{children:n.state.male.totals[t].value},"pairwise-results-table-row-item-male-"+e.name),Object(F.jsx)("td",{children:n.state.averages[t].value},"pairwise-results-table-row-item-average-"+e.name)]},"pairwise-results-table-row-"+e.name)}))})]})},n.state=E.a.cloneDeep(de),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(void 0!==this.context.currentProject.pairWiseScores){var t=E.a.cloneDeep(this.context.currentProject.pairWiseScores);this.setState(t,(function(){e.upDateTotalScore("male"),e.upDateTotalScore("female")}))}else{var a=E.a.cloneDeep(this.state);this.context.currentProject.pairWiseScores=a,this.upDateTotalScore("male"),this.upDateTotalScore("female")}}},{key:"componentDidUpdate",value:function(){var e=E.a.cloneDeep(this.state);this.context.currentProject.pairWiseScores=e,console.log(this.state)}},{key:"render",value:function(){return Object(F.jsxs)("div",{className:"card-container",children:[Object(F.jsx)("div",{className:"card-container",children:Object(F.jsxs)(H.a,{children:[Object(F.jsx)(H.a.Header,{className:"bg-dark text-white",children:Object(F.jsx)("h2",{children:"Pairwise Component Ranking"})}),Object(F.jsx)(H.a.Body,{children:Object(F.jsx)(H.a.Text,{children:"This exercise is carried out as a group. The method for this exercise involves presenting all possible pairs of functions to participants and asking them to vote on which is more important. The exercise is conducted separately for men and women."})})]})}),Object(F.jsxs)("div",{className:"table-container",children:[Object(F.jsx)(D.a,{className:"table-container",children:this.pairWiseTable({gender:"female"})}),this.pairWiseResultsTable({gender:"female",className:"results-table-pairwise"})]}),Object(F.jsx)("div",{className:"table-container"})]})}}]),a}(n.Component));je.contextType=N;var be=je,he=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).renderComponents=function(){},n.state={components:[Object(F.jsx)($,{},"contextScore"),Object(F.jsx)(be,{},"pairwise"),Object(F.jsx)(ne,{},"matrix"),Object(F.jsx)(z,{},"agroeco")]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return Object(F.jsx)("div",{children:Object(F.jsxs)("div",{className:"data-entry-container",children:[this.state.components.map((function(e){return e})),";"]})})}}]),a}(r.a.Component);he.contextType=N;var fe=he,pe=(a(267),[]),xe=E.a.cloneDeep(R);xe.forEach((function(e){pe.push({legumeFunction:e,score:0})}));var ge=[],Oe=E.a.cloneDeep(V);Oe.forEach((function(e){ge.push({attribute:e,score:0})}));var ve={functionFit:[],contextFit:[],agroEcoFit:[],overallFit:[]};Oe.map((function(e){ve.contextFit.push({attribute:e,score:0})})),ve.contextFit.push({overallFit:0}),ve.contextFit.push({overallRank:1}),xe.map((function(e){ve.functionFit.push({legumeFunction:e,score:0})})),ve.functionFit.push({overallFit:0}),ve.functionFit.push({overallRank:1});var ye=E.a.cloneDeep(U);ye.map((function(e){ve.agroEcoFit.push({agroEcoFilter:e,score:0})})),ve.agroEcoFit.push({overallFit:0}),ve.agroEcoFit.push({overallRank:1}),ve.overallFit.push({overallFit:0}),ve.overallFit.push({overallRank:1});var Se=E.a.cloneDeep(U),Fe=[];Se.map((function(e){Fe.push({name:e.name,label:e.label})}));var ke={legumeFunctions:xe,attributes:V,agroEcoFilters:Fe,agroEcoFitSummary:ye,functionFitSummary:pe,contextFitSummary:ge,emptyScoresForLegume:ve,legumes:[],resultsFilter:{selectOptions:["Summary","AgroEco Scores","Context Scores","Function Scores"],orderOptions:["Overall Score","AgroEco Score","Context Score","Function Score"],numberOfLegumesOptions:["5","10","20","All"],selection:{whichResults:"Summary",order:"Overall Score",numberOfLegumes:"5"}},formFilled:!1},we=a(145),Ce=a(154),Le=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).initialiseResults=function(){var e=E.a.cloneDeep(n.context.currentProject.legumeData.allLegumes);e.map((function(e){e.results=E.a.cloneDeep(n.state.emptyScoresForLegume)}));var t=E.a.cloneDeep(n.context.currentProject.agroEcoData),a=E.a.cloneDeep(n.context.currentProject.contextScores.scores),r=E.a.cloneDeep(n.state.contextFitSummary);r.map((function(e){a.map((function(t){"average"===t.scoreType&&e.attribute.label===t.attribute.label&&(e.score=4-t.score)}))}));var o=E.a.cloneDeep(n.context.currentProject.pairWiseScores.averages),c=E.a.cloneDeep(n.context.currentProject.participatoryMatrixScores.summary.scoresIndividual),i=E.a.cloneDeep(n.state.functionFitSummary);i.map((function(e){o.map((function(t){t.attribute.label===e.legumeFunction.label&&(e.pairwisescore=t.value)}))})),i.map((function(e){c.map((function(t){t.legumeFunction.label===e.legumeFunction.label&&(e.matrixscore=t.scores[1].score)}))})),i.map((function(e){e.score=parseFloat((e.pairwisescore/2+e.matrixscore/2).toFixed(2))})),n.setState({legumes:e,agroEcoFitSummary:t.biofilters,contextFitSummary:r,functionFitSummary:i},(function(){n.calculateLegumeScores()}))},n.legumeContextScores=function(e){var t=parseFloat(e.legumecontext),a=parseFloat(e.formcontext);if(t-a>-.5&&t-a<=0){var n=4+(t-a)/2;if(n>0)return n}if(t-a<.5&&t-a>=0){var r=4-(t-a)/2;if(r>0)return r}if(t>a){var o=4-2*(t-a);if(o>0)return o}return a>t?4:0},n.legumeFunctionScores=function(e){var t=e.formfunction,a=e.legumefunction;return 0===t?0:a<t?a*t/8:a*t/4},n.legumeAgroEcoScores=function(e){var t=e.legumeMin,a=e.legumeMax,n=e.formvalue;return n>=t&&n<=a?1:0},n.calculateLegumeScores=function(){var e=E.a.cloneDeep(n.state.legumes);e.map((function(e){e.results.contextFit.map((function(t){n.state.contextFitSummary.map((function(a){void 0!==t.attribute&&a.attribute.label===t.attribute.label&&(t.score=n.legumeContextScores({legumecontext:e[a.attribute.label],formcontext:a.score}))}))})),e.results.functionFit.map((function(t){n.state.functionFitSummary.map((function(a){void 0!==a.legumeFunction&&void 0!==t.legumeFunction&&a.legumeFunction.label===t.legumeFunction.label&&(t.score=n.legumeFunctionScores({formfunction:a.score,legumefunction:e[a.legumeFunction.label]}))}))})),e.results.agroEcoFit.map((function(t){n.state.agroEcoFitSummary.map((function(a){void 0!==t.agroEcoFilter&&t.agroEcoFilter.label===a.label&&(t.score=n.legumeAgroEcoScores({legumeMin:e[a.label][0].min,legumeMax:e[a.label][0].max,formvalue:a.value}))}))}))})),e.map((function(e){var t=0;e.results.agroEcoFit.forEach((function(e){void 0!==e.agroEcoFilter&&(t+=e.score)})),e.results.agroEcoFit.forEach((function(e){void 0!==e.overallFit&&(e.overallFit=t)}));var a=0;e.results.contextFit.forEach((function(e){void 0!==e.attribute&&(a+=e.score)})),e.results.contextFit.forEach((function(e){void 0!==e.overallFit&&(e.overallFit=a)}));var r=0;e.results.functionFit.forEach((function(e){void 0!==e.legumeFunction&&(r+=e.score)})),e.results.functionFit.forEach((function(e){void 0!==e.overallFit&&(e.overallFit=r)})),e.results.overallFit.map((function(e){void 0!==e.overallFit&&(e.overallFit=(t/n.state.agroEcoFilters.length+a/(4*n.state.attributes.length)+r/(4*n.state.legumeFunctions.length))/3)}))})),e.forEach((function(t){t.results.agroEcoFit[5].overallRank=1;var a=[];e.forEach((function(e){t.results.agroEcoFit[4].overallFit<e.results.agroEcoFit[4].overallFit&&!a.includes(e.results.agroEcoFit[4].overallFit)&&(a.push(e.results.agroEcoFit[4].overallFit),t.results.agroEcoFit[5].overallRank+=1),t.results.contextFit[7].overallFit<e.results.contextFit[7].overallFit&&!a.includes(e.results.contextFit[7].overallFit)&&(a.push(e.results.contextFit[7].overallFit),t.results.contextFit[8].overallRank+=1),t.results.functionFit[6].overallFit<e.results.functionFit[6].overallFit&&!a.includes(e.results.functionFit[6].overallFit)&&(a.push(e.results.functionFit[6].overallFit),t.results.functionFit[7].overallRank+=1),t.results.overallFit[0].overallFit<e.results.overallFit[0].overallFit&&!a.includes(e.results.overallFit[0].overallFit)&&(a.push(e.results.overallFit[0].overallFit),t.results.overallFit[1].overallRank+=1)}))})),n.setState({legumes:e})},n.checkFormFilled=function(){void 0!==n.context.currentProject.agroEcoData&&void 0!==n.context.currentProject.contextScores&&void 0!==n.context.currentProject.pairWiseScores&&void 0!==n.context.currentProject.participatoryMatrixScores&&void 0!==n.context.currentProject.legumeData&&n.setState({formFilled:!0},(function(){n.initialiseResults()}))},n.returnResultsForSummaryTable=function(e){return void 0!==e.item.score?Object(F.jsx)("td",{children:parseFloat(e.item.score).toFixed(2)}):void 0!==e.item.overallFit?Object(F.jsx)("td",{children:parseFloat(e.item.overallFit).toFixed(2)}):void 0!==e.item.overallRank?Object(F.jsx)("td",{children:parseInt(e.item.overallRank)}):void 0},n.agroEcoTable=function(){return Object(F.jsx)("div",{children:Object(F.jsxs)(A.a,{striped:!0,bordered:!0,hover:!0,children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Legume Name"}),n.state.agroEcoFilters.map((function(e){return Object(F.jsx)("th",{children:e.label})})),Object(F.jsx)("th",{children:"total agro-eco score"}),Object(F.jsx)("th",{children:"agro-eco rank"})]})}),Object(F.jsx)("tbody",{children:n.orderAndFilterLegume().map((function(e){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:e.name}),e.results.agroEcoFit.map((function(e){return n.returnResultsForSummaryTable({item:e})}))]})}))})]})})},n.contextFitTable=function(){return Object(F.jsx)("div",{children:Object(F.jsxs)(A.a,{striped:!0,bordered:!0,hover:!0,children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Legume Name"}),n.state.attributes.map((function(e){return Object(F.jsx)("th",{children:e.label})})),Object(F.jsx)("th",{children:"context score"}),Object(F.jsx)("th",{children:"context rank"})]})}),Object(F.jsx)("tbody",{children:n.orderAndFilterLegume().map((function(e){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:e.name}),e.results.contextFit.map((function(e){return n.returnResultsForSummaryTable({item:e})}))]})}))})]})})},n.functionFitTable=function(){return Object(F.jsx)("div",{children:Object(F.jsxs)(A.a,{striped:!0,bordered:!0,hover:!0,children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Legume Name"}),n.state.legumeFunctions.map((function(e){return Object(F.jsx)("th",{children:e.label})})),Object(F.jsx)("th",{children:"function score"}),Object(F.jsx)("th",{children:"function rank"})]})}),Object(F.jsx)("tbody",{children:n.orderAndFilterLegume().map((function(e){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:e.name}),e.results.functionFit.map((function(e){return n.returnResultsForSummaryTable({item:e})}))]})}))})]})})},n.returnRank=function(e){var t=0;return e.arr.map((function(e){void 0!==e.overallRank&&(t=e.overallRank)})),t},n.returnScore=function(e){var t=0;return e.arr.map((function(e){void 0!==e.overallFit&&(t=e.overallFit)})),parseFloat(t).toFixed(2)},n.compareScores=function(e,t,a){var n="";e.results[a.scoreType].map((function(e){void 0!==e.overallFit&&(n=e.overallFit)}));var r="";return t.results[a.scoreType].map((function(e){void 0!==e.overallFit&&(r=e.overallFit)})),n<r?1:n>r?-1:0},n.orderAndFilterLegume=function(){var e=n.state.resultsFilter.selection.order,t=E.a.cloneDeep(n.state.legumes);return"Overall Score"===e&&(t.sort((function(e,t){return n.compareScores(e,t,{scoreType:"overallFit"})})),console.log(t)),"AgroEco Score"===e&&(t.sort((function(e,t){return n.compareScores(e,t,{scoreType:"agroEcoFit"})})),console.log(t)),"Context Score"===e&&(t.sort((function(e,t){return n.compareScores(e,t,{scoreType:"contextFit"})})),console.log(t)),"Function Score"===e&&(t.sort((function(e,t){return n.compareScores(e,t,{scoreType:"functionFit"})})),console.log(t)),"5"==n.state.resultsFilter.selection.numberOfLegumes&&(t=t.slice(0,5)),"10"==n.state.resultsFilter.selection.numberOfLegumes&&(t=t.slice(0,10)),"20"==n.state.resultsFilter.selection.numberOfLegumes&&(t=t.slice(0,20)),t},n.changeCellColour=function(){return"blue"},n.summaryTable=function(){return Object(F.jsx)("div",{children:Object(F.jsxs)(A.a,{bordered:!0,striped:!0,hover:!0,children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Legume Name"}),Object(F.jsx)("th",{children:"Agro-Eco score"}),Object(F.jsx)("th",{children:"Agro-Eco rank"}),Object(F.jsx)("th",{children:"Context score"}),Object(F.jsx)("th",{children:"Context rank"}),Object(F.jsx)("th",{children:"Function score"}),Object(F.jsx)("th",{children:"Function rank"}),Object(F.jsx)("th",{children:"Overall score (0-1)"}),Object(F.jsx)("th",{children:"Overall rank"})]})}),Object(F.jsx)("tbody",{children:n.orderAndFilterLegume().map((function(e){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:e.name}),Object(F.jsx)("td",{children:n.returnScore({arr:e.results.agroEcoFit})}),Object(F.jsx)("td",{children:n.returnRank({arr:e.results.agroEcoFit})}),Object(F.jsx)("td",{children:n.returnScore({arr:e.results.contextFit})}),Object(F.jsx)("td",{children:n.returnRank({arr:e.results.contextFit})}),Object(F.jsx)("td",{children:n.returnScore({arr:e.results.functionFit})}),Object(F.jsx)("td",{children:n.returnRank({arr:e.results.functionFit})}),Object(F.jsx)("td",{children:n.returnScore({arr:e.results.overallFit})}),Object(F.jsx)("td",{children:n.returnRank({arr:e.results.overallFit})})]})}))})]})})},n.renderLegumeResults=function(){return"Summary"===n.state.resultsFilter.selection.whichResults?n.summaryTable():"AgroEco Scores"===n.state.resultsFilter.selection.whichResults?n.agroEcoTable():"Context Scores"===n.state.resultsFilter.selection.whichResults?n.contextFitTable():"Function Scores"===n.state.resultsFilter.selection.whichResults?n.functionFitTable():void 0},n.changeSelection=function(e,t){n.setState((function(a){return Object(C.a)(Object(C.a)({},a),{},{resultsFilter:Object(C.a)(Object(C.a)({},a.resultsFilter),{},{selection:Object(C.a)(Object(C.a)({},a.resultsFilter.selection),{},Object(w.a)({},t.type,e.target.value))})})}),(function(){return n.orderAndFilterLegume()}))},n.resultsFilters=function(){return Object(F.jsx)("div",{className:"card-container",children:Object(F.jsxs)(H.a,{children:[Object(F.jsx)(H.a.Header,{className:"bg-dark text-white",children:Object(F.jsx)("h2",{children:"Filter Results"})}),Object(F.jsx)(H.a.Body,{children:Object(F.jsxs)(D.a,{className:"results-form",children:[Object(F.jsxs)(we.a,{controlId:"resultsSelect",className:"form-item",children:[Object(F.jsx)(Ce.a,{children:"Results"}),Object(F.jsx)(M.a,{value:n.state.resultsFilter.selection.whichResults,onChange:function(e){return n.changeSelection(e,{type:"whichResults"})},as:"select",children:n.state.resultsFilter.selectOptions.map((function(e){return Object(F.jsx)("option",{children:e})}))})]}),Object(F.jsxs)(we.a,{value:n.state.resultsFilter.selection.order,onChange:function(e){return n.changeSelection(e,{type:"order"})},controlId:"resultsFilter",className:"form-item",children:[Object(F.jsx)(Ce.a,{children:"Order by:"}),Object(F.jsx)(M.a,{as:"select",value:n.state.resultsFilter.selection.order,onChange:function(e){return n.changeSelection(e,{type:"order"})},children:n.state.resultsFilter.orderOptions.map((function(e){return Object(F.jsx)("option",{children:e})}))})]}),Object(F.jsxs)(we.a,{controlId:"resultsFilter",className:"form-item",children:[Object(F.jsx)(Ce.a,{children:"Number of Legumes Displayed"}),Object(F.jsx)(M.a,{as:"select",value:n.state.resultsFilter.selection.numberOfLegumes,onChange:function(e){return n.changeSelection(e,{type:"numberOfLegumes"})},children:n.state.resultsFilter.numberOfLegumesOptions.map((function(e){return Object(F.jsx)("option",{children:e})}))})]})]})})]})})},n.renderBody=function(){return!1===n.state.formFilled?Object(F.jsx)("h1",{children:"Either no data or legume information entered yet. Please fill in data-entry form, or go to legumes page."}):!0===n.state.formFilled?Object(F.jsxs)("div",{className:"results-container",children:[n.resultsFilters(),Object(F.jsx)("div",{children:n.renderLegumeResults()})]}):void 0},n.state=ke,n.initialiseResults=n.initialiseResults.bind(Object(P.a)(n)),n.legumeContextScores=n.legumeContextScores.bind(Object(P.a)(n)),n.legumeFunctionScores=n.legumeFunctionScores.bind(Object(P.a)(n)),n.legumeAgroEcoScores=n.legumeAgroEcoScores.bind(Object(P.a)(n)),n.calculateLegumeScores=n.calculateLegumeScores.bind(Object(P.a)(n)),n.checkFormFilled=n.checkFormFilled.bind(Object(P.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(void 0===this.context.currentProject&&(this.context.currentProject={}),void 0!==this.context.currentProject.results){var e=E.a.cloneDeep(this.context.currentProject.results);this.setState(e)}else{var t=E.a.cloneDeep(this.state);this.context.currentProject.results=t}this.checkFormFilled()}},{key:"componentDidUpdate",value:function(){var e=E.a.cloneDeep(this.state);this.context.currentProject.results=e,console.log(this.state)}},{key:"render",value:function(){return Object(F.jsx)("div",{children:this.renderBody()})}}]),a}(n.Component);Le.contextType=N;var Pe=Le,De=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).initialiseContext=function(){var e={};["agroEcoData","contextScores","location","pairWiseScores","participatoryMatrixScores","projectInfo","results","user"].map((function(t){void 0!==n.context[t]&&(e[t]=E.a.cloneDeep(n.context[t]))})),n.setState(e)},console.log(N),n.state={},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.initialiseContext()}},{key:"render",value:function(){return Object(F.jsxs)("div",{children:[Object(F.jsx)("h1",{children:"App Context"}),Object(F.jsx)("pre",{children:JSON.stringify(this.state,null,2)})]})}}]),a}(n.Component);De.contextType=N;var Ne=a(42),Te=(a(268),a(365)),Ee=a(366),Ie=a(367),Ae=a(370),Me={lat:5.26,lng:22.7},He=[];function Re(e){var t=Object(n.useRef)(null),a=Object(n.useMemo)((function(){return{dragend:function(){var a=t.current;if(null!=a){var n=E.a.clone(e.center),r=a.getLatLng().lat,o=a.getLatLng().lng;n[e.index].lat=r,n[e.index].lng=o,e.changeMarkerPositions(n)}}}}),[]);return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(Te.a,{draggable:!0,eventHandlers:a,position:e.center[e.index],ref:t})})}function Ge(e){return Object(F.jsx)(Ee.a,{pathOptions:{color:"purple"},positions:e.positions})}void 0===N.currentProject&&(N.currentProject={}),void 0===N.currentProject.location&&(He=[{lat:Me.lat+10,lng:Me.lng-10},{lat:Me.lat+10,lng:Me.lng+10},{lat:Me.lat-10,lng:Me.lng+10},{lat:Me.lat-10,lng:Me.lng-10}]),void 0!==N.currentProject.location&&(He=N.currentProject.location);var Be=function(e){var t=Object(n.useState)(He),a=Object(Ne.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(Me),i=Object(Ne.a)(c,2),l=i[0],s=(i[1],Object(n.useContext)(N));return console.log(s.currentProject),Object(n.useEffect)((function(){void 0!==s.currentProject.location&&o(s.currentProject.location)}),[]),Object(n.useEffect)((function(){s.currentProject.location=r})),Object(F.jsx)("div",{className:"leaflet-container",children:Object(F.jsxs)(Ie.a,{center:l,zoom:3,scrollWheelZoom:!1,children:[Object(F.jsx)(Ae.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(F.jsx)(Ge,{positions:r}),Object(F.jsx)(Re,{center:r,index:0,changeMarkerPositions:o}),Object(F.jsx)(Re,{center:r,index:1,changeMarkerPositions:o}),Object(F.jsx)(Re,{center:r,index:2,changeMarkerPositions:o}),Object(F.jsx)(Re,{center:r,index:3,changeMarkerPositions:o})]})})},Ve=a(368),Ue=a(148),We=a.n(Ue),Ke=(a(269),a(270),a(118),a(146)),ze=[];[{name:"Afghanistan",code:"AF"},{name:"\xc5land Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"AndorrA",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People's Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People's Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"RWANDA",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia and Montenegro",code:"CS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}].forEach((function(e){ze.push(e.name)}));var _e=Object(Ve.a)(),Je=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={user:{firstname:"",surname:"",email:"",institution:""},projectName:"",projectID:_e,country:"",majorRegion:"",minorRegion:"",communityName:"",communityType:"",description:"",date:new Date,countryNames:ze},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(window.scrollTo(0,0),void 0===this.context.currentProject&&(this.context.currentProject={}),void 0===this.context.currentProject.projectInfo){var e=E.a.cloneDeep(this.state);this.context.currentProject.projectInfo=e}if(void 0!==this.context.currentProject.projectInfo){var t=E.a.cloneDeep(this.context.currentProject.projectInfo);this.setState(t)}}},{key:"componentDidUpdate",value:function(){var e=E.a.cloneDeep(this.state);this.context.currentProject.projectInfo=e}},{key:"render",value:function(){var e=this;return Object(F.jsxs)("div",{className:"project-info-container",children:[Object(F.jsx)("div",{className:"card-container",children:Object(F.jsx)(H.a,{children:Object(F.jsx)(H.a.Header,{className:"bg-dark text-white",children:Object(F.jsx)("h2",{children:"User Information"})})})}),Object(F.jsxs)(D.a,{className:"form-display",children:[Object(F.jsxs)(we.a,{className:"short-form-entry",children:[Object(F.jsx)(Ce.a,{children:"First Name"}),Object(F.jsx)(M.a,{type:"text",value:this.state.user.firstname,onChange:function(t){return e.setState((function(e){return Object(C.a)(Object(C.a)({},e),{},{user:Object(C.a)(Object(C.a)({},e.user),{},{firstname:t.target.value})})}))}})]}),Object(F.jsxs)(we.a,{className:"short-form-entry",children:[Object(F.jsx)(Ce.a,{children:"Surname"}),Object(F.jsx)(M.a,{type:"text",value:this.state.user.surname,onChange:function(t){return e.setState((function(e){return Object(C.a)(Object(C.a)({},e),{},{user:Object(C.a)(Object(C.a)({},e.user),{},{surname:t.target.value})})}))}})]}),Object(F.jsxs)(we.a,{className:"short-form-entry",children:[Object(F.jsx)(Ce.a,{children:"Institution"}),Object(F.jsx)(M.a,{type:"text",value:this.state.user.institution,onChange:function(t){return e.setState((function(e){return Object(C.a)(Object(C.a)({},e),{},{user:Object(C.a)(Object(C.a)({},e.user),{},{institution:t.target.value})})}))}}),Object(F.jsx)(Ke.a,{children:"The organisation responsible for data collection"})]}),Object(F.jsxs)(we.a,{className:"short-form-entry",children:[Object(F.jsx)(Ce.a,{children:"Email"}),Object(F.jsx)(M.a,{type:"email",value:this.state.user.email,onChange:function(t){return e.setState((function(e){return Object(C.a)(Object(C.a)({},e),{},{user:Object(C.a)(Object(C.a)({},e.user),{},{email:t.target.value})})}))}})]})]}),Object(F.jsx)("div",{className:"card-container",children:Object(F.jsx)(H.a,{children:Object(F.jsx)(H.a.Header,{className:"bg-dark text-white",children:Object(F.jsx)("h2",{children:"Project Metadata"})})})}),Object(F.jsxs)(D.a,{className:"form-display",children:[Object(F.jsxs)(we.a,{className:"short-form-entry",children:[Object(F.jsx)(Ce.a,{children:"Project Name"}),Object(F.jsx)(M.a,{type:"text",value:this.state.projectName,onChange:function(t){return e.setState({projectName:t.target.value})}}),Object(F.jsx)(Ke.a,{className:"text-muted",children:"A memorable name for your project."})]}),Object(F.jsxs)(we.a,{className:"short-form-entry",children:[Object(F.jsx)(Ce.a,{children:"Project ID"}),Object(F.jsx)(M.a,{type:"text",placeholder:this.state.projectID,readOnly:!0}),Object(F.jsx)(Ke.a,{className:"text-muted",children:"A universally unique identifier (uuid) for your project."})]}),Object(F.jsxs)(we.a,{className:"short-form-entry",children:[Object(F.jsx)(Ce.a,{children:"Country"}),Object(F.jsx)(M.a,{as:"select",value:this.state.country,onChange:function(t){e.setState({country:t.target.value})},children:this.state.countryNames.map((function(e){return Object(F.jsx)("option",{children:e})}))})]}),Object(F.jsxs)(we.a,{className:"short-form-entry",children:[Object(F.jsx)(Ce.a,{children:"Major Region"}),Object(F.jsx)(M.a,{value:this.state.majorRegion,onChange:function(t){return e.setState({majorRegion:t.target.value})}}),Object(F.jsx)(Ke.a,{className:"text-muted",children:"e.g. state/province"})]}),Object(F.jsxs)(we.a,{className:"short-form-entry",children:[Object(F.jsx)(Ce.a,{children:"Minor Region"}),Object(F.jsx)(M.a,{value:this.state.minorRegion,onChange:function(t){return e.setState({minorRegion:t.target.value})}}),Object(F.jsx)(Ke.a,{className:"text-muted",children:"e.g. county"})]}),Object(F.jsxs)(we.a,{className:"short-form-entry",children:[Object(F.jsx)(Ce.a,{children:"Community Name"}),Object(F.jsx)(M.a,{value:this.state.communityName,onChange:function(t){return e.setState({communityName:t.target.value})}})]}),Object(F.jsxs)(we.a,{className:"short-form-entry",children:[Object(F.jsx)(Ce.a,{children:"Community Type"}),Object(F.jsx)(M.a,{value:this.state.communityType,onChange:function(t){return e.setState({communityType:t.target.value})}}),Object(F.jsx)(Ke.a,{className:"text-muted",children:"e.g. village/sub-village"})]}),Object(F.jsxs)(we.a,{className:"short-form-entry",children:[Object(F.jsx)(Ce.a,{children:"Date"}),Object(F.jsx)(We.a,{selected:Date.parse(this.state.date),onChange:function(t){return e.setState({date:t})}}),Object(F.jsx)(Ke.a,{className:"text-muted",children:"The date the data-collection ended"})]}),Object(F.jsxs)(we.a,{className:"long-form-entry",children:[Object(F.jsx)(Ce.a,{children:"Project Description"}),Object(F.jsx)(M.a,{as:"textarea",rows:4,value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}})]})]}),Object(F.jsx)("div",{className:"card-container",children:Object(F.jsxs)(H.a,{children:[Object(F.jsx)(H.a.Header,{className:"bg-dark text-white",children:Object(F.jsx)("h2",{children:"Mapping"})}),Object(F.jsx)(H.a.Body,{children:"The map below can be used to select your study region. We recommend that you set the approximate study location before going to the field. That way, the some information from the map can be cached for offline use. If there are any problems collecting geolocation offline, collect the rest of the data needed, save your progress, and fill in the mapping information when you once again have access to internet"})]})}),Object(F.jsx)("div",{className:"map-container",children:Object(F.jsx)(Be,{})})]})}}]),a}(n.Component);Je.contextType=N;var qe=Je,Ze=a(153),Ye=(a(352),"https://l-gorman.com"),Qe=Object(Ve.a)(),Xe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).makeDataPublic=function(){if("Share immediately"===n.state.dataAvailability){var e=new Date;n.setState({dateAvailable:e})}if("Share after one year"===n.state.dataAvailability){var t=new Date,a=t.getFullYear(),r=t.getMonth(),o=t.getDate(),c=new Date(a+1,r,o);n.setState({dateAvailable:c})}},n.checkAllFieldsComplete=function(){void 0===n.context.currentProject&&(n.context.currentProject={});var e=!1;return"Private"!==n.state.dataAvailability&&(e=!0),void 0!==n.context.currentProject.agroEcoData&&void 0!==n.context.currentProject.contextScores&&void 0!==n.context.currentProject.location&&void 0!==n.context.currentProject.pairWiseScores&&void 0!==n.context.currentProject.participatoryMatrixScores&&void 0!==n.context.currentProject.projectInfo&&void 0!==n.context.currentProject.results&&void 0!==n.context.currentProject.projectSecret&&!0===e},n.submitData=function(){var e=E.a.cloneDeep(n.context.currentProject);g()({method:"post",url:Ye+"/api/projects/submit-data/",data:e,headers:{accept:"application/json","Access-Control-Allow-Origin":"*"}}).then((function(e){alert(e.data)})).catch((function(e){console.log(e)}))},n.downLoadData=function(){var e=E.a.cloneDeep(n.context.currentProject);return Object(F.jsx)("a",{type:"button",href:"data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(e))),download:"filename.json",children:Object(F.jsx)(S.a,{className:"bg-light text-dark",variant:"outline-dark ",children:"Save Progress"})})},n.uploadData=function(){return Object(F.jsx)("div",{children:Object(F.jsx)(Ze.a,{className:"button-primary",onChange:n.fileUploadButton})})},n.fileOnload=function(e){var t=JSON.parse(e.target.result);n.context.currentProject={},n.context.currentProject=E.a.cloneDeep(t);var a=E.a.cloneDeep(n.context.currentProject.projectSecret);n.setState(a,(function(){n.makeDataPublic()})),console.log(n.context)},n.fileUploadButton=function(e){e.target.files[0];var t=new FileReader;t.onload=n.fileOnload,t.readAsText(e.target.files[0])},n.GetCorrectURL=function(){if(void 0===n.context)return Ye+"/LegumeCHOICE";if(void 0===n.context.currentProject)return Ye+"/LegumeCHOICE";if(void 0===n.context.currentProject.projectInfo)return Ye+"/LegumeCHOICE";if(void 0===n.context.currentProject.projectInfo.projectName)return Ye+"/LegumeCHOICE";if(void 0!==n.context.currentProject.projectInfo.projectName){var e=n.context.currentProject.projectInfo.projectName,t=n.state.realOrTestProject;if("Genuine"==t)return Ye+"/LegumeCHOICE/IndividualProjects/"+e;if("Test"==t)return Ye+"/LegumeCHOICE/TestProjects/IndividualProjects/"+e}},n.ManageLocalDataCard=function(){return Object(F.jsxs)(H.a,{className:"card-style ",children:[Object(F.jsx)(H.a.Header,{className:"bg-dark text-white",children:"Manage Project Data (Offline)"}),Object(F.jsxs)(H.a.Body,{children:[Object(F.jsxs)(H.a.Text,{children:[Object(F.jsx)("h3",{children:"Save Project"}),"This application allows you to save your progress as a JSON file. At any point, you can upload this file into the application to continue collecting/editing your data",n.downLoadData(),Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),Object(F.jsx)("h3",{children:"Load Project"}),"Here you can load in data from a previously saved project. This data must be stored as a JSON file."]}),Object(F.jsx)("footer",{children:Object(F.jsx)("div",{className:"upload-button",children:n.uploadData()})})]})]})},n.SubmitDataCard=function(){return Object(F.jsxs)(H.a,{className:"card-style",children:[Object(F.jsx)(H.a.Header,{className:"bg-dark text-white",children:"Submit Data (Internet required)"}),Object(F.jsxs)(H.a.Body,{children:[Object(F.jsxs)(H.a.Text,{children:["Submit your data in order for it to be processed into csv format.",Object(F.jsx)("br",{})," Data can only be submitted under the following conditions:",Object(F.jsxs)("ul",{children:[Object(F.jsx)("li",{children:"Project information, legume-information, data-entry, and results have all been checked (see progress on top bar)"}),Object(F.jsx)("li",{children:"You agree to make your data publicly available for research."})]}),"When your data is public, you will be able to download it in CSV format."]}),Object(F.jsxs)(D.a,{children:[Object(F.jsxs)(we.a,{children:[Object(F.jsx)(Ce.a,{children:'Is this "test" data from app exploration, or "genuine" data collected from a focus group?'}),Object(F.jsxs)(M.a,{as:"select",value:n.state.realOrTestProject,onChange:function(e){return n.setState({realOrTestProject:e.target.value})},children:[Object(F.jsx)("option",{children:"Test"}),Object(F.jsx)("option",{children:"Genuine"})]})]}),Object(F.jsxs)(we.a,{children:[Object(F.jsx)(Ce.a,{children:"Would you like to keep this data private, make the data publicly available immediately, or make it publicly available after 1 year? To view what data is shared, we recommend that you share some test data first."}),Object(F.jsxs)(M.a,{as:"select",value:n.state.dataAvailability,onChange:function(e){return n.setState({dataAvailability:e.target.value},(function(){n.makeDataPublic()}))},children:[Object(F.jsx)("option",{children:"Private"}),Object(F.jsx)("option",{children:"Share immediately"}),Object(F.jsx)("option",{children:"Share after one year"})]})]})]}),n.checkAllFieldsComplete()?Object(F.jsx)(S.a,{className:"bg-light text-dark",variant:"outline-dark ",onClick:n.submitData,children:"Submit"}):Object(F.jsx)(S.a,{className:"bg-light text-dark",variant:"outline-dark ",onClick:n.submitData,disabled:!0,children:"Project not yet complete"})]})]})},n.ViewDataCard=function(){return Object(F.jsxs)(H.a,{className:"card-style",children:[Object(F.jsx)(H.a.Header,{className:"bg-dark text-white",children:"View Data (Internet required)"}),Object(F.jsx)(H.a.Body,{children:Object(F.jsxs)(H.a.Text,{children:[Object(F.jsx)("h3",{children:"Public Data"}),"Follow this\xa0",Object(F.jsx)("a",{href:Ye+"/LegumeCHOICE/",target:"_blank",rel:"noopener noreferrer",children:"link"}),"\xa0to access all publicly available legume CHOICE projects. Follow these links to download results merged from all publicly available legumeCHOICE projects:",Object(F.jsxs)("ul",{children:[Object(F.jsx)("li",{children:Object(F.jsx)("a",{href:Ye+"/LegumeCHOICE/AggregatedProjects/ContextData.csv",target:"_blank",rel:"noopener noreferrer",children:"Context Data"})}),Object(F.jsx)("li",{children:Object(F.jsx)("a",{href:Ye+"/LegumeCHOICE/AggregatedProjects/LegumeResults.csv",target:"_blank",rel:"noopener noreferrer",children:"Legume Results"})}),Object(F.jsx)("li",{children:Object(F.jsx)("a",{href:Ye+"/LegumeCHOICE/AggregatedProjects/PairwiseSelections.csv",target:"_blank",rel:"noopener noreferrer",children:"Pairwise Selections"})}),Object(F.jsx)("li",{children:Object(F.jsx)("a",{href:Ye+"/LegumeCHOICE/AggregatedProjects/PairwiseSummaryScores.csv",target:"_blank",rel:"noopener noreferrer",children:"Pairwise Summary Scores"})}),Object(F.jsx)("li",{children:Object(F.jsx)("a",{href:Ye+"/LegumeCHOICE/AggregatedProjects/ParticipatoryMatrixScores.csv",target:"_blank",rel:"noopener noreferrer",children:"Participatory Matrix Scores"})}),Object(F.jsx)("li",{children:Object(F.jsx)("a",{href:Ye+"/LegumeCHOICE/AggregatedProjects/agroEcoData.csv",target:"_blank",rel:"noopener noreferrer",children:"Agroecological Data"})})]}),Object(F.jsx)("h3",{children:"Project Data"}),"To find data from your own project, data follow this\xa0",Object(F.jsx)("a",{href:n.GetCorrectURL(),target:"_blank",rel:"noopener noreferrer",children:"link."}),"\xa0 Please note this link will only work once your data is publicly available. Follow these links to download your results directly:",Object(F.jsxs)("ul",{children:[Object(F.jsx)("li",{children:Object(F.jsx)("a",{href:n.GetCorrectURL()+"/ContextData.csv",target:"_blank",rel:"noopener noreferrer",children:"Context Data"})}),Object(F.jsx)("li",{children:Object(F.jsx)("a",{href:n.GetCorrectURL()+"/LegumeResults.csv",target:"_blank",rel:"noopener noreferrer",children:"Legume Results"})}),Object(F.jsx)("li",{children:Object(F.jsx)("a",{href:n.GetCorrectURL()+"/PairwiseSelections.csv",target:"_blank",rel:"noopener noreferrer",children:"Pairwise Selections"})}),Object(F.jsx)("li",{children:Object(F.jsx)("a",{href:n.GetCorrectURL()+"/PairwiseSummaryScores.csv",target:"_blank",rel:"noopener noreferrer",children:"Pairwise Summary Scores"})}),Object(F.jsx)("li",{children:Object(F.jsx)("a",{href:n.GetCorrectURL()+"/ParticipatoryMatrixScores.csv",target:"_blank",rel:"noopener noreferrer",children:"Participatory Matrix Scores"})}),Object(F.jsx)("li",{children:Object(F.jsx)("a",{href:n.GetCorrectURL()+"/agroEcoData.csv",target:"_blank",rel:"noopener noreferrer",children:"Agroecological Data"})})]}),Object(F.jsx)("h3",{children:"Administrator Data"}),"If you are a legumeCHOICE Administrator, follow the following\xa0",Object(F.jsx)("a",{href:Ye+"/AdminLegumeCHOICE",target:"_blank",rel:"noopener noreferrer",children:"link"}),"\xa0and login."]})})," "]})},n.state={secretKey:Qe,dataAvailability:"Private",realOrTestProject:"Test",dateAvailable:""},n.fileOnload=n.fileOnload.bind(Object(P.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/legume-choice-client",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_URL),void 0===this.context.currentProject&&(this.context.currentProject={}),void 0===this.context.currentProject.projectSecret){var e=E.a.cloneDeep(this.state);this.context.currentProject.projectSecret=e}if(void 0!==this.context.currentProject.projectSecret){var t=E.a.cloneDeep(this.context.currentProject.projectSecret);this.setState(t)}console.log(this.state)}},{key:"componentDidUpdate",value:function(){console.log(this.state);var e=E.a.cloneDeep(this.state);this.context.currentProject.projectSecret=e}},{key:"render",value:function(){return Object(F.jsxs)("div",{children:[Object(F.jsx)("h1",{children:"Manage Data"}),Object(F.jsxs)("div",{className:"cards-container",children:[this.ManageLocalDataCard(),this.SubmitDataCard(),this.ViewDataCard()]})]})}}]),a}(n.Component);Xe.contextType=N;var $e=Xe,et=(a(353),[{name:"Pigeon pea (Cajanus cajan)",type:"Grain legume perennial",food:4,feed:2,income:3,"erosion-control":3,fuel:2,"soil-fertility":3,land:1,labour:2,seed:1,"inp-serv":1,"knowl-skill":2,water:1,markets:2,"agroecology-source":"Lexsys",rainfall:[{min:530,max:4030}],temp:[{min:16,max:35}],alt:[{min:0,max:2e3}],soilpH:[{min:4.5,max:8}]},{name:"Climbing beans (Phaseolus vulgaris), local types available in W Ethiopia, harvested several (4-5) years before reseeding)",type:"Grain legume perennial",food:4,feed:2,income:4,"erosion-control":1,fuel:0,"soil-fertility":2,land:1,labour:1,seed:1,"inp-serv":2,"knowl-skill":2,water:3,markets:2,"agroecology-source":"Lexsys",rainfall:[{min:600,max:3e3}],temp:[{min:6,max:29}],alt:[{min:500,max:2e3}],soilpH:[{min:5,max:7}]},{name:"Climbing beans (Phaseolus vulgaris) annual type",type:"Grain legume seasonal",food:4,feed:2,income:4,"erosion-control":1,fuel:0,"soil-fertility":2,land:1,labour:3,seed:2,"inp-serv":3,"knowl-skill":3,water:3,markets:2,"agroecology-source":"Lexsys",rainfall:[{min:600,max:3e3}],temp:[{min:6,max:29}],alt:[{min:500,max:2e3}],soilpH:[{min:5,max:7}]},{name:"Bush bean (Phaseolus vulgaris)",type:"Grain legume seasonal",food:4,feed:1,income:4,"erosion-control":1,fuel:1,"soil-fertility":1,land:2,labour:3,seed:1,"inp-serv":2,"knowl-skill":3,water:2,markets:2,"agroecology-source":"Lexsys",rainfall:[{min:600,max:3e3}],temp:[{min:6,max:29}],alt:[{min:500,max:2e3}],soilpH:[{min:5,max:7}]},{name:"Groundnuts (Arachis hypogaea L.)",type:"Grain legume seasonal",food:3,feed:2,income:4,"erosion-control":2,fuel:1,"soil-fertility":3,land:4,labour:4,seed:1,"inp-serv":3,"knowl-skill":3,water:2,markets:1,"agroecology-source":"Lexsys",rainfall:[{min:310,max:3e3}],temp:[{min:10,max:45}],alt:[{min:0,max:1600}],soilpH:[{min:4,max:8}]},{name:"Soybean grain type (Glycine max L.)",type:"Grain legume seasonal",food:3,feed:2,income:4,"erosion-control":2,fuel:1,"soil-fertility":2,land:3,labour:3,seed:2,"inp-serv":3,"knowl-skill":3,water:2,markets:4,"agroecology-source":"Lexsys",rainfall:[{min:700,max:2e3}],temp:[{min:10,max:30}],alt:[{min:0,max:1400}],soilpH:[{min:5,max:7}]},{name:"Soybean/dual purpose grain plus fodder (Glycine max L.)",type:"Grain legume seasonal",food:2,feed:2,income:4,"erosion-control":3,fuel:1,"soil-fertility":4,land:3,labour:3,seed:2,"inp-serv":3,"knowl-skill":3,water:2,markets:4,"agroecology-source":"Lexsys",rainfall:[{min:700,max:2e3}],temp:[{min:10,max:30}],alt:[{min:0,max:1400}],soilpH:[{min:5,max:7}]},{name:"Faba bean (Vicia faba L.) ",type:"Grain legume seasonal",food:4,feed:2,income:4,"erosion-control":1,fuel:0,"soil-fertility":3,land:2,labour:3,seed:4,"inp-serv":3,"knowl-skill":2,water:2,markets:2,"agroecology-source":"Lexsys",rainfall:[{min:300,max:2090}],temp:[{min:6,max:28}],alt:[{min:1800,max:3200}],soilpH:[{min:4.5,max:8.3}]},{name:"Cowpea \u2013 grain type (Vigna unguiculata)",type:"Grain legume seasonal",food:4,feed:1,income:4,"erosion-control":1,fuel:0,"soil-fertility":2,land:2,labour:3,seed:2,"inp-serv":3,"knowl-skill":2,water:1,markets:2,"agroecology-source":"Lexsys",rainfall:[{min:400,max:2e3}],temp:[{min:13,max:28}],alt:[{min:0,max:1500}],soilpH:[{min:4.3,max:7.9}]},{name:"Cowpea \u2013 forage type (Vigna unguiculata)",type:"Grain legume seasonal",food:2,feed:4,income:2,"erosion-control":2,fuel:0,"soil-fertility":2,land:2,labour:3,seed:3,"inp-serv":3,"knowl-skill":2,water:1,markets:3,"agroecology-source":"Lexsys",rainfall:[{min:400,max:2e3}],temp:[{min:13,max:28}],alt:[{min:0,max:1500}],soilpH:[{min:4.3,max:7.9}]},{name:"Bambara nut (Voandzou subterraneous)",type:"Grain legume seasonal",food:4,feed:0,income:0,"erosion-control":1,fuel:0,"soil-fertility":2,land:1,labour:1,seed:1,"inp-serv":2,"knowl-skill":1,water:1,markets:2,"agroecology-source":null,rainfall:[{min:null,max:null}],temp:[{min:null,max:null}],alt:[{min:null,max:null}],soilpH:[{min:null,max:null}]},{name:"Chickpea (Cicer arietinum L.) \u2013 desi type (for food)- following the main crop",type:"Grain legume seasonal",food:4,feed:2,income:4,"erosion-control":1,fuel:0,"soil-fertility":2,land:2,labour:3,seed:1,"inp-serv":3,"knowl-skill":2,water:1,markets:2,"agroecology-source":"Lexsys",rainfall:[{min:600,max:1500}],temp:[{min:7,max:28}],alt:[{min:1170,max:1900}],soilpH:[{min:5,max:8.3}]},{name:"Chickpea (Cicer arietinum L.) \u2013 kabuli type (for export)-main crop",type:"Grain legume seasonal",food:3,feed:2,income:4,"erosion-control":1,fuel:0,"soil-fertility":2,land:3,labour:3,seed:3,"inp-serv":3,"knowl-skill":3,water:1,markets:3,"agroecology-source":"Lexsys",rainfall:[{min:600,max:1500}],temp:[{min:7,max:28}],alt:[{min:1170,max:1900}],soilpH:[{min:5,max:8.3}]},{name:"Green grams/Mung bean (Vigna radiata)",type:"Grain legume seasonal",food:4,feed:1,income:4,"erosion-control":1,fuel:0,"soil-fertility":1,land:2,labour:3,seed:1,"inp-serv":2,"knowl-skill":1,water:2,markets:3,"agroecology-source":null,rainfall:[{min:null,max:null}],temp:[{min:null,max:null}],alt:[{min:null,max:null}],soilpH:[{min:null,max:null}]},{name:"Lentils (Lens culinaris Medik.)",type:"Grain legume seasonal",food:4,feed:3,income:4,"erosion-control":1,fuel:0,"soil-fertility":2,land:2,labour:3,seed:2,"inp-serv":2,"knowl-skill":2,water:1,markets:2,"agroecology-source":"Lexsys",rainfall:[{min:280,max:2430}],temp:[{min:6,max:27}],alt:[{min:1e3,max:3800}],soilpH:[{min:4.5,max:8.2}]},{name:"Lupins \u2013 Sweet lupin (new), traditional (Et)",type:"Grain legume seasonal",food:2,feed:1,income:3,"erosion-control":2,fuel:1,"soil-fertility":4,land:1,labour:1,seed:2,"inp-serv":0,"knowl-skill":1,water:1,markets:3,"agroecology-source":"Lexsys",rainfall:[{min:350,max:1660}],temp:[{min:6,max:26}],alt:[{min:1600,max:3e3}],soilpH:[{min:5,max:7}]},{name:"Field Pea (Pisum sativum L), adapted to high rainfall environment",type:"Grain legume seasonal",food:4,feed:3,income:4,"erosion-control":2,fuel:0,"soil-fertility":2,land:3,labour:2,seed:2,"inp-serv":1,"knowl-skill":2,water:3,markets:1,"agroecology-source":null,rainfall:[{min:null,max:null}],temp:[{min:null,max:null}],alt:[{min:null,max:null}],soilpH:[{min:null,max:null}]},{name:"Field pea (Pisum absynicum var. sativum)-adapted to low rainfall environment",type:"Grain legume seasonal",food:4,feed:3,income:3,"erosion-control":2,fuel:1,"soil-fertility":2,land:2,labour:2,seed:3,"inp-serv":1,"knowl-skill":2,water:1,markets:2,"agroecology-source":null,rainfall:[{min:null,max:null}],temp:[{min:null,max:null}],alt:[{min:null,max:null}],soilpH:[{min:null,max:null}]},{name:"Grass pea \u2013 (Lathyrus spp)",type:"Grain legume seasonal",food:3,feed:1,income:3,"erosion-control":1,fuel:0,"soil-fertility":3,land:2,labour:2,seed:1,"inp-serv":1,"knowl-skill":1,water:1,markets:2,"agroecology-source":"Lexsys",rainfall:[{min:320,max:1360}],temp:[{min:5,max:27}],alt:[{min:800,max:3e3}],soilpH:[{min:4.5,max:8.3}]},{name:"Cluster bean (Cyamopsis tetragonoloba L.)",type:"Grain legume seasonal",food:3,feed:1,income:3,"erosion-control":1,fuel:0,"soil-fertility":3,land:2,labour:3,seed:4,"inp-serv":3,"knowl-skill":2,water:2,markets:2,"agroecology-source":"Lexsys",rainfall:[{min:380,max:2410}],temp:[{min:12,max:35}],alt:[{min:0,max:1e3}],soilpH:[{min:5.3,max:8.3}]},{name:"Dolichos lablab (Lablab purpureus)- for grain",type:"Grain legume seasonal",food:4,feed:4,income:3,"erosion-control":2,fuel:1,"soil-fertility":3,land:2,labour:3,seed:2,"inp-serv":2,"knowl-skill":2,water:1,markets:3,"agroecology-source":"Lexsys",rainfall:[{min:600,max:2500}],temp:[{min:15,max:35}],alt:[{min:0,max:2100}],soilpH:[{min:4.5,max:7.8}]},{name:"French beans (Phaseolus vulgaris)",type:"Grain legume seasonal",food:4,feed:0,income:4,"erosion-control":1,fuel:0,"soil-fertility":1,land:2,labour:3,seed:4,"inp-serv":4,"knowl-skill":3,water:4,markets:4,"agroecology-source":null,rainfall:[{min:null,max:null}],temp:[{min:null,max:null}],alt:[{min:null,max:null}],soilpH:[{min:null,max:null}]},{name:"Desmodium silverleaf (Desmodium uncinatum)",type:"Herbaceous legumes - Perennial/regrowth (ability regrowth after seasonal harvesting)",food:0,feed:4,income:2,"erosion-control":3,fuel:0,"soil-fertility":3,land:3,labour:1,seed:3,"inp-serv":1,"knowl-skill":2,water:2,markets:3,"agroecology-source":"SoFT",rainfall:[{min:750,max:2400}],temp:[{min:3,max:35}],alt:[{min:0,max:2500}],soilpH:[{min:6.5,max:7.5}]},{name:"Clover (Trifolium)",type:"Herbaceous legumes - Perennial/regrowth (ability regrowth after seasonal harvesting)",food:0,feed:4,income:1,"erosion-control":2,fuel:0,"soil-fertility":2,land:1,labour:3,seed:3,"inp-serv":2,"knowl-skill":3,water:3,markets:0,"agroecology-source":null,rainfall:[{min:null,max:null}],temp:[{min:null,max:null}],alt:[{min:null,max:null}],soilpH:[{min:null,max:null}]},{name:"Alfalfa/lucerne (Medicago sativa)",type:"Herbaceous legumes - Perennial/regrowth (ability regrowth after seasonal harvesting)",food:0,feed:3,income:2,"erosion-control":3,fuel:0,"soil-fertility":3,land:2,labour:3,seed:4,"inp-serv":3,"knowl-skill":2,water:2,markets:2,"agroecology-source":"Lexsys",rainfall:[{min:500,max:2700}],temp:[{min:4,max:27}],alt:[{min:300,max:3e3}],soilpH:[{min:5.5,max:8.8}]},{name:"Stylosanthes guianensis - semi-erect -forage type",type:"Herbaceous legumes - Perennial/regrowth (ability regrowth after seasonal harvesting)",food:0,feed:4,income:0,"erosion-control":3,fuel:0,"soil-fertility":3,land:2,labour:3,seed:4,"inp-serv":3,"knowl-skill":2,water:2,markets:2,"agroecology-source":"Lexsys",rainfall:[{min:500,max:2e3}],temp:[{min:15,max:27}],alt:[{min:0,max:2e3}],soilpH:[{min:4,max:7.7}]},{name:"Stylosanthes hamata - bush/branching type-forage type",type:"Herbaceous legumes - Perennial/regrowth (ability regrowth after seasonal harvesting)",food:0,feed:4,income:0,"erosion-control":3,fuel:0,"soil-fertility":3,land:2,labour:3,seed:4,"inp-serv":3,"knowl-skill":2,water:2,markets:2,"agroecology-source":"Lexsys",rainfall:[{min:600,max:1700}],temp:[{min:22,max:30}],alt:[{min:0,max:500}],soilpH:[{min:4,max:6}]},{name:"Stylosanthes scabra -erect - forage type",type:"Herbaceous legumes - Perennial/regrowth (ability regrowth after seasonal harvesting)",food:0,feed:4,income:0,"erosion-control":3,fuel:0,"soil-fertility":3,land:2,labour:3,seed:4,"inp-serv":3,"knowl-skill":2,water:2,markets:2,"agroecology-source":"Lexsys",rainfall:[{min:500,max:1700}],temp:[{min:20,max:30}],alt:[{min:0,max:600}],soilpH:[{min:4,max:7}]},{name:"Hairy Vetch (Vicia villosa )",type:"Herbaceous legumes - Seasonal/no-regrowth (harvest after one season, then need reseeding)",food:0,feed:4,income:0,"erosion-control":3,fuel:0,"soil-fertility":3,land:2,labour:3,seed:4,"inp-serv":2,"knowl-skill":3,water:3,markets:2,"agroecology-source":"Lexsys",rainfall:[{min:310,max:1660}],temp:[{min:4,max:21}],alt:[{min:1800,max:3e3}],soilpH:[{min:4.9,max:8.2}]},{name:"Vicia dasycarpa",type:"Herbaceous legumes - Seasonal/no-regrowth (harvest after one season, then need reseeding)",food:0,feed:4,income:0,"erosion-control":3,fuel:0,"soil-fertility":3,land:2,labour:3,seed:4,"inp-serv":2,"knowl-skill":3,water:3,markets:2,"agroecology-source":null,rainfall:[{min:null,max:null}],temp:[{min:null,max:null}],alt:[{min:null,max:null}],soilpH:[{min:null,max:null}]},{name:"Velvet bean (Mucuna pruriens) ",type:"Herbaceous legumes - Seasonal/no-regrowth (harvest after one season, then need reseeding)",food:0,feed:1,income:0,"erosion-control":3,fuel:0,"soil-fertility":4,land:3,labour:2,seed:3,"inp-serv":2,"knowl-skill":2,water:1,markets:4,"agroecology-source":"Lexsys",rainfall:[{min:650,max:3e3}],temp:[{min:15,max:35}],alt:[{min:0,max:2100}],soilpH:[{min:4.5,max:7.7}]},{name:"Lablab- forage type (Lablab purpureus)",type:"Herbaceous legumes - Seasonal/no-regrowth (harvest after one season, then need reseeding)",food:3,feed:4,income:3,"erosion-control":2,fuel:1,"soil-fertility":3,land:2,labour:3,seed:2,"inp-serv":2,"knowl-skill":2,water:2,markets:3,"agroecology-source":"Lexsys",rainfall:[{min:600,max:2500}],temp:[{min:15,max:35}],alt:[{min:0,max:2100}],soilpH:[{min:4.5,max:7.8}]},{name:"Crotolaria juncea",type:"Herbaceous legumes - Seasonal/no-regrowth (harvest after one season, then need reseeding)",food:0,feed:1,income:0,"erosion-control":3,fuel:0,"soil-fertility":4,land:2,labour:3,seed:2,"inp-serv":2,"knowl-skill":2,water:2,markets:3,"agroecology-source":"Lexsys",rainfall:[{min:490,max:4290}],temp:[{min:8,max:35}],alt:[{min:0,max:2500}],soilpH:[{min:4.5,max:7.5}]},{name:"Calliandra calothyrus",type:"Tree legumes - coppicing",food:0,feed:4,income:2,"erosion-control":4,fuel:3,"soil-fertility":3,land:1,labour:1,seed:3,"inp-serv":1,"knowl-skill":2,water:2,markets:3,"agroecology-source":"SoFT",rainfall:[{min:1200,max:4290}],temp:[{min:10,max:35}],alt:[{min:0,max:2e3}],soilpH:[{min:4.5,max:7.5}]},{name:"Gliricidia sepium",type:"Tree legumes - coppicing",food:0,feed:3,income:1,"erosion-control":4,fuel:4,"soil-fertility":4,land:2,labour:2,seed:3,"inp-serv":1,"knowl-skill":1,water:1,markets:4,"agroecology-source":"SoFT",rainfall:[{min:800,max:4e3}],temp:[{min:15,max:35}],alt:[{min:0,max:2e3}],soilpH:[{min:4.3,max:8}]},{name:"Leucaena leucocephala",type:"Tree legumes - coppicing",food:0,feed:4,income:0,"erosion-control":4,fuel:4,"soil-fertility":4,land:2,labour:2,seed:1,"inp-serv":2,"knowl-skill":2,water:1,markets:3,"agroecology-source":"Lexsys",rainfall:[{min:500,max:4100}],temp:[{min:15,max:35}],alt:[{min:0,max:1350}],soilpH:[{min:4.6,max:8.7}]},{name:"Leucaena trichandra",type:"Tree legumes - coppicing",food:0,feed:4,income:2,"erosion-control":3,fuel:4,"soil-fertility":3,land:2,labour:2,seed:1,"inp-serv":2,"knowl-skill":2,water:1,markets:3,"agroecology-source":"SoFT",rainfall:[{min:900,max:3500}],temp:[{min:10,max:35}],alt:[{min:0,max:2e3}],soilpH:[{min:5,max:8.7}]},{name:"Leucaena diversifolia",type:"Tree legumes - coppicing",food:0,feed:4,income:2,"erosion-control":3,fuel:4,"soil-fertility":3,land:2,labour:2,seed:1,"inp-serv":2,"knowl-skill":2,water:1,markets:3,"agroecology-source":"SoFT",rainfall:[{min:500,max:4e3}],temp:[{min:3,max:35}],alt:[{min:0,max:2e3}],soilpH:[{min:5,max:8.7}]},{name:"Tree lucerne (Chamaecytisus palmensis)",type:"Tree legumes \u2013 coppicing",food:0,feed:4,income:2,"erosion-control":3,fuel:4,"soil-fertility":3,land:2,labour:2,seed:1,"inp-serv":2,"knowl-skill":2,water:1,markets:3,"agroecology-source":"SoFT",rainfall:[{min:300,max:1600}],temp:[{min:3,max:28}],alt:[{min:1e3,max:2500}],soilpH:[{min:5,max:8.7}]},{name:"Sesbania sesban",type:"Tree legumes \u2013 non coppicing",food:0,feed:4,income:2,"erosion-control":4,fuel:3,"soil-fertility":3,land:1,labour:2,seed:1,"inp-serv":2,"knowl-skill":2,water:2,markets:3,"agroecology-source":"Lexsys",rainfall:[{min:500,max:2500}],temp:[{min:15,max:30}],alt:[{min:0,max:2300}],soilpH:[{min:5,max:7.5}]},{name:"Sesbania grandiflora",type:"Tree legumes \u2013 non coppicing",food:0,feed:3,income:2,"erosion-control":3,fuel:3,"soil-fertility":3,land:2,labour:2,seed:1,"inp-serv":2,"knowl-skill":2,water:1,markets:3,"agroecology-source":"SoFT",rainfall:[{min:700,max:3e3}],temp:[{min:22,max:35}],alt:[{min:0,max:1e3}],soilpH:[{min:4.5,max:8.7}]},{name:"Tephrosia (Tephrosia vogelii)",type:"Tree legumes \u2013 non coppicing",food:0,feed:0,income:2,"erosion-control":3,fuel:4,"soil-fertility":4,land:2,labour:3,seed:2,"inp-serv":1,"knowl-skill":1,water:1,markets:2,"agroecology-source":"Lexsys",rainfall:[{min:870,max:2670}],temp:[{min:13,max:29}],alt:[{min:0,max:2100}],soilpH:[{min:4.5,max:6.5}]},{name:"Faidherbia albidia",type:"Tree legumes \u2013 non coppicing",food:0,feed:3,income:2,"erosion-control":3,fuel:3,"soil-fertility":4,land:2,labour:2,seed:1,"inp-serv":2,"knowl-skill":2,water:1,markets:3,"agroecology-source":null,rainfall:[{min:null,max:null}],temp:[{min:null,max:null}],alt:[{min:null,max:null}],soilpH:[{min:null,max:null}]},{name:"Acacia angustissima",type:"Tree legumes \u2013 non coppicing",food:0,feed:2,income:3,"erosion-control":3,fuel:4,"soil-fertility":3,land:2,labour:2,seed:1,"inp-serv":2,"knowl-skill":2,water:1,markets:3,"agroecology-source":"SoFT",rainfall:[{min:800,max:3e3}],temp:[{min:10,max:35}],alt:[{min:0,max:2e3}],soilpH:[{min:5,max:8.7}]}]),tt=[],at=[];et.map((function(e){tt.includes(e.type)||tt.push(e.type),at.includes(e["agroecology-source"])||null===e["agroecology-source"]||at.push(e["agroecology-source"])}));var nt={name:"Sample Legume",type:"e.g. Grain legume perennial",food:2,feed:2,income:2,"erosion-control":2,fuel:2,"soil-fertility":2,land:1,labour:2,seed:1,"inp-serv":1,"knowl-skill":2,water:1,markets:2,temp:[{min:16,max:35}],alt:[{min:0,max:2e3}],soilpH:[{min:4.5,max:8}],rainfall:[{min:530,max:4030}],source:"Lexsys"},rt={allLegumes:et,legumeTypes:tt,sources:at,newLegume:nt,blankLegume:nt,agroEcoData:[{name:"Rainfall (mm/year)",label:"rainfall"},{name:"Temparature (mean \xb0C/month)",label:"temp"},{name:"Altitude (average masl)",label:"alt"},{name:"Soil pH",label:"soilpH"}],provisionData:[{name:"Food",label:"food"},{name:"Feed",label:"feed"},{name:"Income",label:"income"},{name:"Erosion Control",label:"erosion-control"},{name:"Fuel",label:"fuel"},{name:"Soil Fertility",label:"soil-fertility"}],requirements:[{name:"Land",label:"land"},{name:"Labour",label:"labour"},{name:"Seed",label:"seed"},{name:"Inputs and Services",label:"inp-serv"},{name:"Knowledge and Skills",label:"knowl-skill"},{name:"Water",label:"water"},{name:"Markets",label:"markets"}]},ot=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).LegumeFunctionsTable=function(){return Object(F.jsxs)(A.a,{striped:!0,bordered:!0,hover:!0,children:[Object(F.jsxs)("thead",{children:[Object(F.jsx)("th",{children:"Name"}),n.state.provisionData.map((function(e){return Object(F.jsx)("th",{children:e.name})}))]}),Object(F.jsx)("tbody",{children:n.SortLegumes().map((function(e){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:e.name}),n.state.provisionData.map((function(t){return Object(F.jsx)("td",{children:e[t.label]})}))]})}))})]})},n.LegumeRequirementsTable=function(){return Object(F.jsxs)(A.a,{striped:!0,bordered:!0,hover:!0,children:[Object(F.jsxs)("thead",{children:[Object(F.jsx)("th",{children:"Name"}),n.state.requirements.map((function(e){return Object(F.jsx)("th",{children:e.name})}))]}),Object(F.jsx)("tbody",{children:n.SortLegumes().map((function(e){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:e.name}),n.state.requirements.map((function(t){return Object(F.jsx)("td",{children:e[t.label]})}))]})}))})]})},n.LegumeAgroEcoTable=function(){return Object(F.jsxs)(A.a,{className:"legume-table",striped:!0,bordered:!0,hover:!0,children:[Object(F.jsxs)("thead",{children:[Object(F.jsx)("th",{children:"Name"}),n.state.agroEcoData.map((function(e){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("th",{children:"Min "+e.name}),Object(F.jsx)("th",{children:"Max "+e.name})]})}))]}),Object(F.jsx)("tbody",{children:n.SortLegumes().map((function(e){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:e.name}),n.state.agroEcoData.map((function(t){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("td",{children:e[t.label][0].min}),Object(F.jsx)("td",{children:e[t.label][0].max})]})}))]})}))})]})},n.LegumeTableAll=function(){return"Functions"===n.state.filter?n.LegumeFunctionsTable():"Requirements"===n.state.filter?n.LegumeRequirementsTable():"AgroEcological"===n.state.filter?n.LegumeAgroEcoTable():void 0},n.addLegume=function(){var e=E.a.cloneDeep(n.state.allLegumes),t=E.a.cloneDeep(n.state.newLegume),a=E.a.cloneDeep(n.state.blankLegume);e.push(t),n.setState({allLegumes:e,newLegume:a}),console.log("add legume")},n.SortLegumes=function(){return E.a.cloneDeep(n.state.allLegumes).sort((function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0}))},n.LegumeDetailsForm=function(){return Object(F.jsxs)(D.a,{className:"form-display",children:[Object(F.jsxs)(we.a,{className:"short-form-entry",children:[Object(F.jsx)(Ce.a,{children:"Legume Name"}),Object(F.jsx)(M.a,{type:"text",value:n.state.newLegume.name,onChange:function(e){return n.setState((function(t){return Object(C.a)(Object(C.a)({},t),{},{newLegume:Object(C.a)(Object(C.a)({},t.newLegume),{},{name:e.target.value})})}))}})]}),Object(F.jsxs)(we.a,{className:"short-form-entry",children:[Object(F.jsx)(Ce.a,{children:"Legume Type"}),Object(F.jsx)(M.a,{as:"select",value:n.state.newLegume.type,onChange:function(e){return n.setState((function(t){return Object(C.a)(Object(C.a)({},t),{},{newLegume:Object(C.a)(Object(C.a)({},t.newLegume),{},{type:e.target.value})})}))},children:n.state.legumeTypes.map((function(e){return Object(F.jsx)("option",{children:e})}))})]}),Object(F.jsxs)(we.a,{className:"short-form-entry",children:[Object(F.jsx)(Ce.a,{children:"Source of Information"}),Object(F.jsx)(M.a,{as:"select",value:n.state.newLegume.source,onChange:function(e){return n.setState((function(t){return Object(C.a)(Object(C.a)({},t),{},{newLegume:Object(C.a)(Object(C.a)({},t.newLegume),{},{source:e.target.value})})}))},children:n.state.sources.map((function(e){return Object(F.jsx)("option",{children:e})}))}),Object(F.jsx)(Ke.a,{children:"Where you obtained your legume information"})]})]})},n.LegumeFunctionsForm=function(){return Object(F.jsx)(D.a,{className:"form-display",children:n.state.provisionData.map((function(e){return Object(F.jsxs)(we.a,{className:"short-form-entry",children:[Object(F.jsx)(Ce.a,{children:e.name}),Object(F.jsx)(M.a,{type:"number",value:n.state.newLegume[e.label],min:0,max:4,onChange:function(t){return n.setState((function(a){return Object(C.a)(Object(C.a)({},a),{},{newLegume:Object(C.a)(Object(C.a)({},a.newLegume),{},Object(w.a)({},e.label,parseInt(t.target.value)))})}))}})]})}))})},n.LegumeRequirmentsForm=function(){return Object(F.jsxs)(D.a,{className:"form-display",children:[n.state.requirements.map((function(e){return Object(F.jsxs)(we.a,{className:"short-form-entry",children:[Object(F.jsx)(Ce.a,{children:e.name}),Object(F.jsx)(M.a,{type:"number",value:n.state.newLegume[e.label],min:0,max:4,onChange:function(t){return n.setState((function(a){return Object(C.a)(Object(C.a)({},a),{},{newLegume:Object(C.a)(Object(C.a)({},a.newLegume),{},Object(w.a)({},e.label,parseInt(t.target.value)))})}))}})]})})),";"]})},n.changeAgroEcoValue=function(e,t){console.log(t);var a=E.a.cloneDeep(n.state.newLegume[t.variable.label]);a[0][t.minmax]=parseFloat(e.target.value),console.log(a),n.setState((function(e){return Object(C.a)(Object(C.a)({},e),{},{newLegume:Object(C.a)(Object(C.a)({},e.newLegume),{},Object(w.a)({},t.variable.label,a))})}))},n.AgroEcoForm=function(){return Object(F.jsxs)(D.a,{className:"form-display",children:[n.state.agroEcoData.map((function(e){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(we.a,{className:"short-form-entry",children:[Object(F.jsxs)(Ce.a,{children:["Minimum ",e.name]}),Object(F.jsx)(M.a,{type:"number",value:n.state.newLegume[e.label][0].min,onChange:function(t){n.changeAgroEcoValue(t,{minmax:"min",variable:e})}})]}),Object(F.jsxs)(we.a,{className:"short-form-entry",children:[Object(F.jsxs)(Ce.a,{children:["Maximum ",e.name]}),Object(F.jsx)(M.a,{type:"number",value:n.state.newLegume[e.label][0].max,onChange:function(t){return n.changeAgroEcoValue(t,{minmax:"max",variable:e})}})]})]})})),";"]})},n.LegumeForm=function(){return Object(F.jsxs)("div",{className:"card-container",children:[Object(F.jsx)("h1",{children:"Add Legumes"}),Object(F.jsx)(H.a,{children:Object(F.jsx)(H.a.Header,{className:"bg-dark text-white",children:Object(F.jsx)("h4",{children:"Legume Details"})})}),n.LegumeDetailsForm(),Object(F.jsx)(H.a,{children:Object(F.jsx)(H.a.Header,{className:"bg-dark text-white",children:Object(F.jsx)("h4",{children:"Primary Legume Functions (0-4): 0 low provision, 4 high provision"})})}),n.LegumeFunctionsForm(),Object(F.jsx)(H.a,{children:Object(F.jsx)(H.a.Header,{className:"bg-dark text-white",children:Object(F.jsx)("h4",{children:"Legume Requirments (0-4): 0 low requirments, 4 high requirements"})})}),n.LegumeRequirmentsForm(),Object(F.jsx)(H.a,{children:Object(F.jsx)(H.a.Header,{className:"bg-dark text-white",children:Object(F.jsx)("h4",{children:"Agroecological Requirments"})})}),n.AgroEcoForm(),Object(F.jsx)(S.a,{onClick:function(){return n.addLegume()},className:"legume-button",children:"Add Legume"})]})},n.state=rt,n.state.filter="Functions",n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(void 0===this.context.currentProject&&(this.context.currentProject={}),void 0!==this.context.currentProject.legumeData){var e=E.a.cloneDeep(this.context.currentProject.legumeData);this.setState(e)}else{var t=E.a.cloneDeep(this.state);this.context.currentProject.legumeData=t}console.log(this.state),console.log(this.context)}},{key:"componentDidUpdate",value:function(){var e=E.a.cloneDeep(this.state);this.context.currentProject.legumeData=e,console.log(this.state),console.log(this.context)}},{key:"render",value:function(){var e=this;return Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"card-container",children:[this.LegumeForm(),Object(F.jsxs)(H.a,{children:[Object(F.jsx)(H.a.Header,{className:"bg-dark text-white",children:Object(F.jsx)("h2",{children:"Legumes"})}),Object(F.jsx)(H.a.Body,{children:Object(F.jsxs)(D.a,{children:[Object(F.jsx)(Ce.a,{children:"Filter Legume Characteristics"}),Object(F.jsxs)(M.a,{as:"select",onChange:function(t){e.setState({filter:t.target.value})},children:[Object(F.jsx)("option",{children:"Functions"}),Object(F.jsx)("option",{children:"Requirements"}),Object(F.jsx)("option",{children:"AgroEcological"})]})]})})]})]}),this.LegumeTableAll()]})}}]),a}(n.Component);ot.contextType=N;var ct=ot,it=30,lt="sidebar-nav-link",st=[{title:"1. Information",routeKey:"information-route",component:Object(F.jsx)(k,{}),path:"/info",icon:Object(F.jsx)(j.b,{size:it}),cName:lt},{title:"2. Project Information",routeKey:"project-info-route",component:Object(F.jsx)(qe,{}),path:"/project-info",icon:Object(F.jsx)(p.b,{size:it}),cName:lt},{title:"3. Legumes",routeKey:"legume-route",component:Object(F.jsx)(ct,{}),path:"/legumes",icon:Object(F.jsx)(f.a,{size:it}),cName:lt},{title:"4. Data Entry",routeKey:"data-entry-route",component:Object(F.jsx)(fe,{}),path:"/data-entry",icon:Object(F.jsx)(b.a,{size:it}),cName:lt},{title:"5. Results",routeKey:"results-route",component:Object(F.jsx)(Pe,{}),path:"/results",icon:Object(F.jsx)(p.a,{size:it}),cName:lt},{title:"6. Manage Data",routeKey:"manage-data-route",component:Object(F.jsx)($e,{}),path:"/manage-data",icon:Object(F.jsx)(h.b,{size:it}),cName:lt}],ut=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).toggleSidebar=function(){n.setState({sideBarOpen:!n.state.sideBarOpen},(function(){return n.initialiseContext()}))},n.returnTopBarInformation=function(){return Object(F.jsxs)("div",{className:"top-bar-items",children:[Object(F.jsxs)("p",{className:"top-bar-text",children:["Project: ",n.state.project]}),Object(F.jsxs)("p",{className:"top-bar-text",children:["Project Information:"," ",n.state.projectInformationComplete?Object(F.jsx)(h.a,{size:40}):"?"]}),Object(F.jsxs)("p",{className:"top-bar-text",children:["Legume Information:"," ",n.state.legumesComplete?Object(F.jsx)(h.a,{size:40}):"?"]}),Object(F.jsxs)("p",{className:"top-bar-text",children:["Data Entry:"," ",n.state.dataEntryComplete?Object(F.jsx)(h.a,{size:40}):"?"]}),Object(F.jsxs)("p",{className:"top-bar-text",children:["Results:"," ",n.state.resultsComplete?Object(F.jsx)(h.a,{size:40}):"?"]})]})},n.state={sideBarOpen:!1,project:"?",projectInformationComplete:!1,legumesComplete:!1,dataEntryComplete:!1,resultsComplete:!1},n}return Object(l.a)(a,[{key:"initialiseContext",value:function(){var e="?";console.log(this.context),void 0===this.context.currentProject&&(this.context.currentProject={}),void 0!==this.context.currentProject.projectInfo&&(e=E.a.cloneDeep(this.context.currentProject.projectInfo.projectName));var t=!1;void 0!==this.context.currentProject.projectInfo&&(t=!0);var a=!1;void 0!==this.context.currentProject.legumeData&&(a=!0);var n=!1;void 0!==this.context.currentProject.contextScores&&void 0!==this.context.currentProject.agroEcoData&&void 0!==this.context.currentProject.pairWiseScores&&void 0!==this.context.currentProject.participatoryMatrixScores&&(n=!0);var r=!1;void 0!==this.context.currentProject.results&&(r=!0),this.setState({project:e,dataEntryComplete:n,projectInformationComplete:t,resultsComplete:r,legumesComplete:a})}},{key:"render",value:function(){var e=this;return Object(F.jsxs)("div",{className:"container_row",children:[Object(F.jsxs)("div",{className:"top-bar",children:[Object(F.jsx)("a",{onClick:this.toggleSidebar,children:Object(F.jsx)(b.b,{size:50,color:"white"})}),this.returnTopBarInformation()]}),Object(F.jsxs)("div",{className:this.state.sideBarOpen?"sidebar-container active":"sidebar-container",children:[Object(F.jsxs)("div",{className:"sidebar-header-container",children:[Object(F.jsx)("h2",{children:"LegumeCHOICE"}),Object(F.jsx)("a",{onClick:this.toggleSidebar,children:Object(F.jsx)("div",{className:"close-menu-icon",children:Object(F.jsx)(j.a,{size:40,color:"white"})})})]},"sidebar-header "),Object(F.jsx)("div",{children:Object(F.jsx)("ul",{className:"sidebar-list",children:st.map((function(t,a){return Object(F.jsx)(m.b,{className:t.cName,to:t.path,onClick:e.toggleSidebar,children:Object(F.jsx)("div",{children:Object(F.jsxs)("li",{className:"sidebar-list-item",children:[Object(F.jsx)("span",{className:"side-bar-link-icon",children:t.icon}),Object(F.jsx)("span",{className:"side-bar-link-text",children:t.title})]},a+"-list-item")})},a+"-link-item")}))})})]})]})}}]),a}(r.a.Component);ut.contextType=N;var mt=ut,dt=(a(359),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(F.jsx)(m.a,{children:Object(F.jsx)("div",{children:Object(F.jsxs)(N.Provider,{value:{},children:[Object(F.jsx)(mt,{}),Object(F.jsx)("div",{className:"outer-page-container",children:Object(F.jsx)("div",{className:"inner-page-container",children:Object(F.jsxs)(d.d,{children:[st.map((function(e){return Object(F.jsx)(d.b,{exact:!0,path:e.path,children:e.component},e.routeKey)})),Object(F.jsx)(d.a,{exact:!0,from:"/",to:"/info"})]})})})]})})})}}]),a}(r.a.Component));dt.contextType=N;var jt=dt,bt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ht(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ft=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,371)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)}))};c.a.render(Object(F.jsx)(r.a.StrictMode,{children:Object(F.jsx)(jt,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/legume-choice-client",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/legume-choice-client","/service-worker.js");bt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ht(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ht(t,e)}))}}("service-worker.js"),ft()},60:function(e,t,a){}},[[360,1,2]]]);
//# sourceMappingURL=main.fe7ba807.chunk.js.map